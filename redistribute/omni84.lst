                      (       omni84.asm):00001         ************************* 
                      (       omni84.asm):00002         * OMNISTAR - JUNE 1984  *
                      (       omni84.asm):00003         * (C) COPYRIGHT 1984    *
                      (       omni84.asm):00004         * BY RICK ADAMS.        *
                      (       omni84.asm):00005         *************************
     00B4             (       omni84.asm):00006         TIMER   EQU     180
     00B5             (       omni84.asm):00007         ULROW   EQU     181
     00B6             (       omni84.asm):00008         ULCOL   EQU     182
     00B7             (       omni84.asm):00009         LRROW   EQU     183
     00B8             (       omni84.asm):00010         LRCOL   EQU     184
     00B9             (       omni84.asm):00011         CURROW  EQU     185
     00BA             (       omni84.asm):00012         CURCOL  EQU     186
     00BB             (       omni84.asm):00013         IRQTIM  EQU     187
     00BC             (       omni84.asm):00014         WINDOW  EQU     188
     00BD             (       omni84.asm):00015         NWINS   EQU     189
     00BE             (       omni84.asm):00016         NODE    EQU     190
     00BF             (       omni84.asm):00017         X1      EQU     191
     00C0             (       omni84.asm):00018         Y1      EQU     192
     00C1             (       omni84.asm):00019         X2      EQU     193
     00C2             (       omni84.asm):00020         Y2      EQU     194
     00C3             (       omni84.asm):00021         SCRN    EQU     195
                      (       omni84.asm):00022         *UNUSED 197-199
     00C8             (       omni84.asm):00023         BUFPTR  EQU     200
     00CA             (       omni84.asm):00024         COUNT   EQU     202
     00CB             (       omni84.asm):00025         VERB    EQU     203
     00D1             (       omni84.asm):00026         OBJECT  EQU     209
     00D7             (       omni84.asm):00027         SLIST   EQU     215
                      (       omni84.asm):00028          
                      (       omni84.asm):00029                 ORG     $3400
3400                  (       omni84.asm):00030         WINTBL  RMB     9*10
345A                  (       omni84.asm):00031         QUETBL  RMB     9*32
357A                  (       omni84.asm):00032         BUFFER  RMB     40
35A2                  (       omni84.asm):00033                 RMB     1
35A3                  (       omni84.asm):00034         ULIST   RMB     10
35AD                  (       omni84.asm):00035         SLISTS  RMB     20*11
                      (       omni84.asm):00036                 
                      (       omni84.asm):00037                 ORG     $3C00
3C00 1A50             (       omni84.asm):00038         START   ORCC    #$50
3C02 5F               (       omni84.asm):00039                 CLRB
3C03 1F9B             (       omni84.asm):00040                 TFR     B,DP
3C05 CC0400           (       omni84.asm):00041                 ldd     #$400
3C08 DDC3             (       omni84.asm):00042                 std     SCRN
3C0A 170088           (       omni84.asm):00043                 lbsr    PCLS
3C0D BDA9A2           (       omni84.asm):00044                 JSR     $A9A2
3C10 BDA976           (       omni84.asm):00045                 JSR     $A976
3C13 86F8             (       omni84.asm):00046                 LDA     #$F8
3C15 B7FF22           (       omni84.asm):00047                 STA     $FF22
3C18 B7FFC5           (       omni84.asm):00048                 STA     $FFC5
3C1B B7FFC3           (       omni84.asm):00049                 STA     $FFC3
3C1E B7FFC0           (       omni84.asm):00050                 STA     $FFC0
3C21 170EE4           (       omni84.asm):00051                 LBSR    BLDMAP
3C24 7F35A2           (       omni84.asm):00052                 CLR     ULIST-1
3C27 8614             (       omni84.asm):00053                 LDA     #20
3C29 97BE             (       omni84.asm):00054                 STA     NODE
3C2B 170B53           (       omni84.asm):00055                 LBSR    ININIT
3C2E 170064           (       omni84.asm):00056                 LBSR    PCLS
3C31 170432           (       omni84.asm):00057                 LBSR    WINIT
3C34 9ED7             (       omni84.asm):00058                 ldx     SLIST
3C36 8605             (       omni84.asm):00059                 lda     #5
3C38 170BAF           (       omni84.asm):00060                 lbsr    PRNAME
3C3B 9ED7             (       omni84.asm):00061                 LDX     SLIST
3C3D 8607             (       omni84.asm):00062                 LDA     #7
3C3F 170832           (       omni84.asm):00063                 LBSR    LIST
3C42 8601             (       omni84.asm):00064                 LDA     #1
3C44 BAFF03           (       omni84.asm):00065                 ORA     $FF03
3C47 B7FF03           (       omni84.asm):00066                 STA     $FF03
                      (       omni84.asm):00067         *SET UP TEXT WINDOW
3C4A 308DF92C         (       omni84.asm):00068                 LEAX    BUFFER,PCR
3C4E 9FC8             (       omni84.asm):00069                 STX     BUFPTR
3C50 0FCA             (       omni84.asm):00070                 CLR     COUNT
3C52 8605             (       omni84.asm):00071                 LDA     #5
3C54 97BC             (       omni84.asm):00072                 STA     WINDOW
3C56 C60A             (       omni84.asm):00073                 LDB     #10
3C58 3D               (       omni84.asm):00074                 MUL
3C59 338DF7A3         (       omni84.asm):00075                 LEAU    WINTBL,PCR
3C5D 33CB             (       omni84.asm):00076                 LEAU    D,U
3C5F ECC4             (       omni84.asm):00077                 LDD     ,U
3C61 DDB5             (       omni84.asm):00078                 STD     ULROW
3C63 EC42             (       omni84.asm):00079                 LDD     2,U
3C65 DDB7             (       omni84.asm):00080                 STD     LRROW
3C67 EC44             (       omni84.asm):00081                 LDD     4,U
3C69 DDB9             (       omni84.asm):00082                 STD     CURROW
3C6B 1706D1           (       omni84.asm):00083         AGAIN   LBSR    KEYIN
3C6E 8103             (       omni84.asm):00084                 CMPA    #$03
3C70 270C             (       omni84.asm):00085                 BEQ     QUIT
3C72 810D             (       omni84.asm):00086                 CMPA    #$0D
3C74 26F5             (       omni84.asm):00087                 BNE     AGAIN
3C76 170729           (       omni84.asm):00088                 LBSR    PARSE
3C79 170765           (       omni84.asm):00089                 LBSR    DISP
3C7C 20ED             (       omni84.asm):00090                 BRA     AGAIN
3C7E                  (       omni84.asm):00091         QUIT    *ORCC   #$50
                      (       omni84.asm):00092                 *SWI
3C7E CC0088           (       omni84.asm):00093                 ldd #$0088      ; hard reset to RSDOS
3C81 1F8B             (       omni84.asm):00094                 tfr a,dp        ; set direct page 0
3C83 B7FEED           (       omni84.asm):00095                 sta $FEED       ; reestablish interrupt vectors on startup
3C86 B7FF90           (       omni84.asm):00096                 sta $ff90       ; turn off MMU
3C89 B7FFD8           (       omni84.asm):00097                 sta $ffd8       ; slow CPU
3C8C B7FFDE           (       omni84.asm):00098                 sta $ffde       ; turn on ROMs
3C8F 9771             (       omni84.asm):00099                 sta $71         ; force hard reset
3C91 6E9FFFFE         (       omni84.asm):00100                 jmp [$fffe]     ; jump thru reset vector
                      (       omni84.asm):00101         
                      (       omni84.asm):00102         *CLEAR ENTIRE SCREEN
                      (       omni84.asm):00103         *
3C95 DEC3             (       omni84.asm):00104         PCLS    LDU     SCRN
3C97 3420             (       omni84.asm):00105                 PSHS    Y
3C99 31C91800         (       omni84.asm):00106                 LEAY    6144,U
3C9D 3420             (       omni84.asm):00107                 PSHS    Y
3C9F CCFFFF           (       omni84.asm):00108                 LDD     #-1
3CA2 EDC1             (       omni84.asm):00109         PCLS1   STD     ,U++
3CA4 EDC1             (       omni84.asm):00110                 STD     ,U++
3CA6 EDC1             (       omni84.asm):00111                 STD     ,U++
3CA8 EDC1             (       omni84.asm):00112                 STD     ,U++
3CAA 11A3E4           (       omni84.asm):00113                 CMPU    ,S
3CAD 26F3             (       omni84.asm):00114                 BNE     PCLS1
3CAF 3520             (       omni84.asm):00115                 PULS    Y
3CB1 3520             (       omni84.asm):00116                 PULS    Y
3CB3 39               (       omni84.asm):00117                 RTS
                      (       omni84.asm):00118         
                      (       omni84.asm):00119         *OUTPUT TO WINDOW
                      (       omni84.asm):00120         *       A=CHARACTER
                      (       omni84.asm):00121         *
3CB4 3402             (       omni84.asm):00122         OUT     PSHS    A
3CB6 96BA             (       omni84.asm):00123                 LDA     CURCOL
3CB8 91B8             (       omni84.asm):00124                 CMPA    LRCOL
3CBA 2502             (       omni84.asm):00125                 BLO     OUTX
3CBC 8D06             (       omni84.asm):00126                 BSR     CR
3CBE 3502             (       omni84.asm):00127         OUTX    PULS    A
3CC0 810D             (       omni84.asm):00128                 CMPA    #$0D
3CC2 2612             (       omni84.asm):00129                 BNE     OUT0
                      (       omni84.asm):00130         *CARRIAGE RETURN
3CC4 96B6             (       omni84.asm):00131         CR      LDA     ULCOL
3CC6 97BA             (       omni84.asm):00132                 STA     CURCOL
3CC8 96B9             (       omni84.asm):00133                 LDA     CURROW
3CCA 8B08             (       omni84.asm):00134                 ADDA    #8
3CCC 97B9             (       omni84.asm):00135                 STA     CURROW
3CCE 91B7             (       omni84.asm):00136                 CMPA    LRROW
3CD0 2303             (       omni84.asm):00137                 BLS     NOSCRL
3CD2 170264           (       omni84.asm):00138                 LBSR    WSCROL
3CD5 39               (       omni84.asm):00139         NOSCRL  RTS
3CD6 8109             (       omni84.asm):00140         OUT0    CMPA    #$09
3CD8 2611             (       omni84.asm):00141                 BNE     OUT1
                      (       omni84.asm):00142         *TAB
3CDA 96BA             (       omni84.asm):00143         TAB     LDA     CURCOL
3CDC 8B40             (       omni84.asm):00144                 ADDA    #$40
3CDE 84C0             (       omni84.asm):00145                 ANDA    #$C0
3CE0 97BA             (       omni84.asm):00146                 STA     CURCOL
3CE2 91B8             (       omni84.asm):00147                 CMPA    LRCOL
3CE4 22DE             (       omni84.asm):00148                 BHI     CR
3CE6 91B6             (       omni84.asm):00149                 CMPA    ULCOL
3CE8 25DA             (       omni84.asm):00150                 BLO     CR
3CEA 39               (       omni84.asm):00151                 RTS
3CEB 8108             (       omni84.asm):00152         OUT1    CMPA    #$08
3CED 260B             (       omni84.asm):00153                 BNE     OUT2
                      (       omni84.asm):00154         *BACKSPACE
3CEF 96BA             (       omni84.asm):00155                 LDA     CURCOL
3CF1 91B6             (       omni84.asm):00156                 CMPA    ULCOL
3CF3 2304             (       omni84.asm):00157                 BLS     NOBS
3CF5 8007             (       omni84.asm):00158                 SUBA    #7
3CF7 97BA             (       omni84.asm):00159                 STA     CURCOL
3CF9 39               (       omni84.asm):00160         NOBS    RTS
3CFA 810C             (       omni84.asm):00161         OUT2    CMPA    #$0C
3CFC 2604             (       omni84.asm):00162                 BNE     OUT3
                      (       omni84.asm):00163         *CLEAR
3CFE 1705BF           (       omni84.asm):00164                 LBSR    WCLEAR
3D01 39               (       omni84.asm):00165                 RTS
3D02 81FF             (       omni84.asm):00166         OUT3    CMPA    #$FF
3D04 2604             (       omni84.asm):00167                 BNE     OUT4
                      (       omni84.asm):00168         *CENTER STRING
3D06 170601           (       omni84.asm):00169                 LBSR    CENTER
3D09 39               (       omni84.asm):00170                 RTS
3D0A 338D00EB         (       omni84.asm):00171         OUT4    LEAU    ALPHA,PCR
3D0E 8020             (       omni84.asm):00172                 SUBA    #$20
3D10 C605             (       omni84.asm):00173                 LDB     #5
3D12 3404             (       omni84.asm):00174                 PSHS    B
3D14 3D               (       omni84.asm):00175                 MUL
3D15 33CB             (       omni84.asm):00176                 LEAU    D,U
3D17 9EB9             (       omni84.asm):00177         LOOP0   LDX     CURROW
3D19 6AE4             (       omni84.asm):00178                 DEC     ,S
3D1B 2D3A             (       omni84.asm):00179                 BLT     DONE
3D1D 1F10             (       omni84.asm):00180                 TFR     X,D
3D1F 3406             (       omni84.asm):00181                 PSHS    D
3D21 44               (       omni84.asm):00182                 LSRA
3D22 56               (       omni84.asm):00183                 RORB
3D23 44               (       omni84.asm):00184                 LSRA
3D24 56               (       omni84.asm):00185                 RORB
3D25 44               (       omni84.asm):00186                 LSRA
3D26 56               (       omni84.asm):00187                 RORB
3D27 D3C3             (       omni84.asm):00188                 ADDD    SCRN
3D29 830020           (       omni84.asm):00189                 SUBD    #32
3D2C 1F01             (       omni84.asm):00190                 TFR     D,X
3D2E 318D002E         (       omni84.asm):00191                 LEAY    BITBL,PCR
3D32 ECE4             (       omni84.asm):00192                 LDD     ,S
3D34 C407             (       omni84.asm):00193                 ANDB    #7
3D36 E6A5             (       omni84.asm):00194                 LDB     B,Y
3D38 53               (       omni84.asm):00195                 COMB
3D39 3404             (       omni84.asm):00196                 PSHS    B
3D3B A6C0             (       omni84.asm):00197                 LDA     ,U+
3D3D 44               (       omni84.asm):00198                 LSRA
3D3E 48               (       omni84.asm):00199         LOOP    LSLA
3D3F 308820           (       omni84.asm):00200                 LEAX    32,X
3D42 4D               (       omni84.asm):00201                 TSTA
3D43 2EF9             (       omni84.asm):00202                 BGT     LOOP
3D45 2708             (       omni84.asm):00203                 BEQ     DONE0
3D47 E684             (       omni84.asm):00204                 LDB     ,X
3D49 E4E4             (       omni84.asm):00205                 ANDB    ,S
3D4B E784             (       omni84.asm):00206                 STB     ,X
3D4D 20EF             (       omni84.asm):00207                 BRA     LOOP
3D4F 3504             (       omni84.asm):00208         DONE0   PULS    B
3D51 3510             (       omni84.asm):00209                 PULS    X
3D53 0CBA             (       omni84.asm):00210                 INC     CURCOL
3D55 20C0             (       omni84.asm):00211                 BRA     LOOP0
3D57 3502             (       omni84.asm):00212         DONE    PULS    A
3D59 96BA             (       omni84.asm):00213                 LDA     CURCOL
3D5B 8B02             (       omni84.asm):00214                 ADDA    #2
3D5D 97BA             (       omni84.asm):00215                 STA     CURCOL
3D5F 39               (       omni84.asm):00216         XOUT    RTS
                      (       omni84.asm):00217         
3D60 8040             (       omni84.asm):00218         BITBL   FDB     $8040
3D62 2010             (       omni84.asm):00219                 FDB     $2010
3D64 0804             (       omni84.asm):00220                 FDB     $0804
3D66 0201             (       omni84.asm):00221                 FDB     $0201
                      (       omni84.asm):00222         
                      (       omni84.asm):00223         *ERASE ONE CHARACTER
                      (       omni84.asm):00224         *
3D68 9EB9             (       omni84.asm):00225         ERASE   LDX     CURROW
3D6A 3410             (       omni84.asm):00226                 PSHS    X
3D6C C605             (       omni84.asm):00227                 LDB     #5
3D6E 3404             (       omni84.asm):00228                 PSHS    B
3D70 318CED           (       omni84.asm):00229                 LEAY    BITBL,PCR
3D73 6AE4             (       omni84.asm):00230         ERAS0   DEC     ,S
3D75 2D26             (       omni84.asm):00231                 BLT     XERAS
3D77 1F10             (       omni84.asm):00232                 TFR     X,D
3D79 C407             (       omni84.asm):00233                 ANDB    #7
3D7B E6A5             (       omni84.asm):00234                 LDB     B,Y
3D7D 3404             (       omni84.asm):00235                 PSHS    B
3D7F 1F10             (       omni84.asm):00236                 TFR     X,D
3D81 44               (       omni84.asm):00237                 LSRA
3D82 56               (       omni84.asm):00238                 RORB
3D83 44               (       omni84.asm):00239                 LSRA
3D84 56               (       omni84.asm):00240                 RORB
3D85 44               (       omni84.asm):00241                 LSRA
3D86 56               (       omni84.asm):00242                 RORB
3D87 D3C3             (       omni84.asm):00243                 ADDD    SCRN
3D89 1F03             (       omni84.asm):00244                 TFR     D,U
3D8B 3504             (       omni84.asm):00245                 PULS    B
3D8D 170012           (       omni84.asm):00246                 LBSR    ERAS1
3D90 17000F           (       omni84.asm):00247                 LBSR    ERAS1
3D93 17000C           (       omni84.asm):00248                 LBSR    ERAS1
3D96 17000B           (       omni84.asm):00249                 LBSR    ERAS2
3D99 3001             (       omni84.asm):00250                 LEAX    1,X
3D9B 20D6             (       omni84.asm):00251                 BRA     ERAS0
3D9D 3502             (       omni84.asm):00252         XERAS   PULS    A
3D9F 3510             (       omni84.asm):00253                 PULS    X
3DA1 39               (       omni84.asm):00254                 RTS
3DA2 8D00             (       omni84.asm):00255         ERAS1   BSR     ERAS2
3DA4 1F98             (       omni84.asm):00256         ERAS2   TFR     B,A
3DA6 AAC4             (       omni84.asm):00257                 ORA     ,U
3DA8 A7C4             (       omni84.asm):00258                 STA     ,U
3DAA 33C820           (       omni84.asm):00259                 LEAU    32,U
3DAD 39               (       omni84.asm):00260                 RTS
                      (       omni84.asm):00261         
                      (       omni84.asm):00262         *DISPLAY CURSOR
                      (       omni84.asm):00263         *
3DAE 338D0007         (       omni84.asm):00264         CURSOR  LEAU    CURS,PCR
3DB2 C605             (       omni84.asm):00265                 LDB     #5
3DB4 3404             (       omni84.asm):00266                 PSHS    B
3DB6 16FF5E           (       omni84.asm):00267                 LBRA    LOOP0
                      (       omni84.asm):00268         
3DB9 007C             (       omni84.asm):00269         CURS    FDB     $007C
3DBB 7C7C             (       omni84.asm):00270                 FDB     $7C7C
3DBD 0000             (       omni84.asm):00271                 FDB     $00
                      (       omni84.asm):00272         
                      (       omni84.asm):00273         *SCROLL ENTIRE SCREEN
                      (       omni84.asm):00274         *
3DBF 7DFF02           (       omni84.asm):00275         PSCROL  TST     $FF02
3DC2 7DFF03           (       omni84.asm):00276         W0      TST     $FF03
3DC5 2CFB             (       omni84.asm):00277                 BGE     W0
3DC7 DEC3             (       omni84.asm):00278                 LDU     SCRN
3DC9 31C90100         (       omni84.asm):00279                 LEAY    256,U
3DCD ECA1             (       omni84.asm):00280         SCROL0  LDD     ,Y++
3DCF EDC1             (       omni84.asm):00281                 STD     ,U++
3DD1 ECA1             (       omni84.asm):00282                 LDD     ,Y++
3DD3 EDC1             (       omni84.asm):00283                 STD     ,U++
3DD5 ECA1             (       omni84.asm):00284                 LDD     ,Y++
3DD7 EDC1             (       omni84.asm):00285                 STD     ,U++
3DD9 ECA1             (       omni84.asm):00286                 LDD     ,Y++
3DDB EDC1             (       omni84.asm):00287                 STD     ,U++
3DDD 108C1C00         (       omni84.asm):00288                 CMPY    #$1C00
3DE1 2DEA             (       omni84.asm):00289                 BLT     SCROL0
3DE3 CCFFFF           (       omni84.asm):00290                 LDD     #-1
3DE6 EDA3             (       omni84.asm):00291         SCROL1  STD     ,--Y
3DE8 108C1B00         (       omni84.asm):00292                 CMPY    #$1B00
3DEC 2EF8             (       omni84.asm):00293                 BGT     SCROL1
3DEE 96B9             (       omni84.asm):00294                 LDA     CURROW
3DF0 8008             (       omni84.asm):00295                 SUBA    #8
3DF2 97B9             (       omni84.asm):00296                 STA     CURROW
3DF4 96B6             (       omni84.asm):00297                 LDA     ULCOL
3DF6 97BA             (       omni84.asm):00298                 STA     CURCOL
3DF8 39               (       omni84.asm):00299                 RTS
                      (       omni84.asm):00300         
3DF9                  (       omni84.asm):00301         ALPHA
3DF9 0000             (       omni84.asm):00302                 FDB     $0000
3DFB 0000             (       omni84.asm):00303                 FDB     $0000
3DFD 00               (       omni84.asm):00304                 FCB     $00
3DFE 00FA             (       omni84.asm):00305                 FDB     $00FA !
3E00 FA00             (       omni84.asm):00306                 FDB     $FA00
3E02 00               (       omni84.asm):00307                 FCB     $00
3E03 00C0             (       omni84.asm):00308                 FDB     $00C0 "
3E05 00C0             (       omni84.asm):00309                 FDB     $00C0
3E07 00               (       omni84.asm):00310                 FCB     $00
3E08 28FE             (       omni84.asm):00311                 FDB     $28FE #
3E0A 28FE             (       omni84.asm):00312                 FDB     $28FE
3E0C 28               (       omni84.asm):00313                 FCB     $28
3E0D 2454             (       omni84.asm):00314                 FDB     $2454 $
3E0F FE54             (       omni84.asm):00315                 FDB     $FE54
3E11 48               (       omni84.asm):00316                 FCB     $48
3E12 4608             (       omni84.asm):00317                 FDB     $4608 %
3E14 1020             (       omni84.asm):00318                 FDB     $1020
3E16 C4               (       omni84.asm):00319                 FCB     $C4
3E17 046A             (       omni84.asm):00320                 FDB     $046A &
3E19 926C             (       omni84.asm):00321                 FDB     $926C
3E1B 0A               (       omni84.asm):00322                 FCB     $0A
3E1C 0000             (       omni84.asm):00323                 FDB     $0000 '
3E1E 20C0             (       omni84.asm):00324                 FDB     $20C0
3E20 00               (       omni84.asm):00325                 FCB     $00
3E21 0038             (       omni84.asm):00326                 FDB     $0038 (
3E23 4482             (       omni84.asm):00327                 FDB     $4482
3E25 00               (       omni84.asm):00328                 FCB     $00
3E26 0082             (       omni84.asm):00329                 FDB     $0082 )
3E28 4438             (       omni84.asm):00330                 FDB     $4438
3E2A 00               (       omni84.asm):00331                 FCB     $00
3E2B 5438             (       omni84.asm):00332                 FDB     $5438 *
3E2D FE38             (       omni84.asm):00333                 FDB     $FE38
3E2F 54               (       omni84.asm):00334                 FCB     $54
3E30 1010             (       omni84.asm):00335                 FDB     $1010 +
3E32 7C10             (       omni84.asm):00336                 FDB     $7C10
3E34 10               (       omni84.asm):00337                 FCB     $10
3E35 0000             (       omni84.asm):00338                 FDB     $0000 ,
3E37 020C             (       omni84.asm):00339                 FDB     $020C
3E39 00               (       omni84.asm):00340                 FCB     $00
3E3A 1010             (       omni84.asm):00341                 FDB     $1010 -
3E3C 1010             (       omni84.asm):00342                 FDB     $1010
3E3E 10               (       omni84.asm):00343                 FCB     $10
3E3F 0000             (       omni84.asm):00344                 FDB     $0000 .
3E41 0200             (       omni84.asm):00345                 FDB     $0200
3E43 00               (       omni84.asm):00346                 FCB     $00
3E44 0608             (       omni84.asm):00347                 FDB     $0608 /
3E46 1020             (       omni84.asm):00348                 FDB     $1020
3E48 C0               (       omni84.asm):00349                 FCB     $C0
3E49 6C82             (       omni84.asm):00350                 FDB     $6C82 0
3E4B 8282             (       omni84.asm):00351                 FDB     $8282
3E4D 6C               (       omni84.asm):00352                 FCB     $6C
3E4E 0000             (       omni84.asm):00353                 FDB     $0000 1
3E50 0000             (       omni84.asm):00354                 FDB     $0000
3E52 EE               (       omni84.asm):00355                 FCB     $EE
3E53 0C92             (       omni84.asm):00356                 FDB     $0C92 2
3E55 9292             (       omni84.asm):00357                 FDB     $9292
3E57 60               (       omni84.asm):00358                 FCB     $60
3E58 0092             (       omni84.asm):00359                 FDB     $0092 3
3E5A 9292             (       omni84.asm):00360                 FDB     $9292
3E5C 6C               (       omni84.asm):00361                 FCB     $6C
3E5D E010             (       omni84.asm):00362                 FDB     $E010 4
3E5F 1010             (       omni84.asm):00363                 FDB     $1010
3E61 EE               (       omni84.asm):00364                 FCB     $EE
3E62 6092             (       omni84.asm):00365                 FDB     $6092 5
3E64 9292             (       omni84.asm):00366                 FDB     $9292
3E66 0C               (       omni84.asm):00367                 FCB     $0C
3E67 6C92             (       omni84.asm):00368                 FDB     $6C92 6
3E69 9292             (       omni84.asm):00369                 FDB     $9292
3E6B 0C               (       omni84.asm):00370                 FCB     $0C
3E6C 0080             (       omni84.asm):00371                 FDB     $0080 7
3E6E 8080             (       omni84.asm):00372                 FDB     $8080
3E70 6C               (       omni84.asm):00373                 FCB     $6C
3E71 6C92             (       omni84.asm):00374                 FDB     $6C92 8
3E73 9292             (       omni84.asm):00375                 FDB     $9292
3E75 6C               (       omni84.asm):00376                 FCB     $6C
3E76 6092             (       omni84.asm):00377                 FDB     $6092 9
3E78 9292             (       omni84.asm):00378                 FDB     $9292
3E7A 6C               (       omni84.asm):00379                 FCB     $6C
3E7B 0000             (       omni84.asm):00380                 FDB     $0000 :
3E7D 2400             (       omni84.asm):00381                 FDB     $2400
3E7F 00               (       omni84.asm):00382                 FCB     $00
3E80 0002             (       omni84.asm):00383                 FDB     $0002 ;
3E82 2400             (       omni84.asm):00384                 FDB     $2400
3E84 00               (       omni84.asm):00385                 FCB     $00
3E85 0010             (       omni84.asm):00386                 FDB     $0010 <
3E87 2844             (       omni84.asm):00387                 FDB     $2844
3E89 00               (       omni84.asm):00388                 FCB     $00
3E8A 2828             (       omni84.asm):00389                 FDB     $2828 =
3E8C 2828             (       omni84.asm):00390                 FDB     $2828
3E8E 28               (       omni84.asm):00391                 FCB     $28
3E8F 0044             (       omni84.asm):00392                 FDB     $0044 >
3E91 2810             (       omni84.asm):00393                 FDB     $2810
3E93 00               (       omni84.asm):00394                 FCB     $00
3E94 4080             (       omni84.asm):00395                 FDB     $4080 ?
3E96 8A90             (       omni84.asm):00396                 FDB     $8A90
3E98 60               (       omni84.asm):00397                 FCB     $60
3E99 7C82             (       omni84.asm):00398                 FDB     $7C82 @
3E9B BAAA             (       omni84.asm):00399                 FDB     $BAAA
3E9D 78               (       omni84.asm):00400                 FCB     $78
3E9E 0EFE             (       omni84.asm):00401                 FDB     $0EFE A
3EA0 9090             (       omni84.asm):00402                 FDB     $9090
3EA2 FE               (       omni84.asm):00403                 FCB     $FE
3EA3 FE92             (       omni84.asm):00404                 FDB     $FE92 B
3EA5 92FE             (       omni84.asm):00405                 FDB     $92FE
3EA7 0E               (       omni84.asm):00406                 FCB     $0E
3EA8 FE82             (       omni84.asm):00407                 FDB     $FE82 C
3EAA 82E2             (       omni84.asm):00408                 FDB     $82E2
3EAC E6               (       omni84.asm):00409                 FCB     $E6
3EAD FEFE             (       omni84.asm):00410                 FDB     $FEFE D
3EAF 8282             (       omni84.asm):00411                 FDB     $8282
3EB1 7C               (       omni84.asm):00412                 FCB     $7C
3EB2 FE9E             (       omni84.asm):00413                 FDB     $FE9E E
3EB4 9292             (       omni84.asm):00414                 FDB     $9292
3EB6 92               (       omni84.asm):00415                 FCB     $92
3EB7 FEF0             (       omni84.asm):00416                 FDB     $FEF0 F
3EB9 9090             (       omni84.asm):00417                 FDB     $9090
3EBB 90               (       omni84.asm):00418                 FCB     $90
3EBC FE82             (       omni84.asm):00419                 FDB     $FE82 G
3EBE 82D2             (       omni84.asm):00420                 FDB     $82D2
3EC0 DE               (       omni84.asm):00421                 FCB     $DE
3EC1 FE10             (       omni84.asm):00422                 FDB     $FE10 H
3EC3 10FE             (       omni84.asm):00423                 FDB     $10FE
3EC5 0E               (       omni84.asm):00424                 FCB     $0E
3EC6 000E             (       omni84.asm):00425                 FDB     $000E I
3EC8 FE00             (       omni84.asm):00426                 FDB     $FE00
3ECA 00               (       omni84.asm):00427                 FCB     $00
3ECB 0C0E             (       omni84.asm):00428                 FDB     $0C0E J
3ECD 0202             (       omni84.asm):00429                 FDB     $0202
3ECF FC               (       omni84.asm):00430                 FCB     $FC
3ED0 FEFE             (       omni84.asm):00431                 FDB     $FEFE K
3ED2 1028             (       omni84.asm):00432                 FDB     $1028
3ED4 C6               (       omni84.asm):00433                 FCB     $C6
3ED5 0EFE             (       omni84.asm):00434                 FDB     $0EFE L
3ED7 0202             (       omni84.asm):00435                 FDB     $0202
3ED9 02               (       omni84.asm):00436                 FCB     $02
3EDA FE40             (       omni84.asm):00437                 FDB     $FE40 M
3EDC 2040             (       omni84.asm):00438                 FDB     $2040
3EDE FE               (       omni84.asm):00439                 FCB     $FE
3EDF FE40             (       omni84.asm):00440                 FDB     $FE40 N
3EE1 2010             (       omni84.asm):00441                 FDB     $2010
3EE3 FE               (       omni84.asm):00442                 FCB     $FE
3EE4 FE82             (       omni84.asm):00443                 FDB     $FE82 O
3EE6 828E             (       omni84.asm):00444                 FDB     $828E
3EE8 FE               (       omni84.asm):00445                 FCB     $FE
3EE9 FE9E             (       omni84.asm):00446                 FDB     $FE9E P
3EEB 9090             (       omni84.asm):00447                 FDB     $9090
3EED 60               (       omni84.asm):00448                 FCB     $60
3EEE 7C82             (       omni84.asm):00449                 FDB     $7C82 Q
3EF0 8A84             (       omni84.asm):00450                 FDB     $8A84
3EF2 7A               (       omni84.asm):00451                 FCB     $7A
3EF3 FE90             (       omni84.asm):00452                 FDB     $FE90 R
3EF5 90FE             (       omni84.asm):00453                 FDB     $90FE
3EF7 0E               (       omni84.asm):00454                 FCB     $0E
3EF8 F696             (       omni84.asm):00455                 FDB     $F696 S
3EFA 9292             (       omni84.asm):00456                 FDB     $9292
3EFC DE               (       omni84.asm):00457                 FCB     $DE
3EFD 8080             (       omni84.asm):00458                 FDB     $8080 T
3EFF FEFE             (       omni84.asm):00459                 FDB     $FEFE
3F01 80               (       omni84.asm):00460                 FCB     $80
3F02 FC02             (       omni84.asm):00461                 FDB     $FC02 U
3F04 02FE             (       omni84.asm):00462                 FDB     $02FE
3F06 FC               (       omni84.asm):00463                 FCB     $FC
3F07 F804             (       omni84.asm):00464                 FDB     $F804 V
3F09 02FC             (       omni84.asm):00465                 FDB     $02FC
3F0B F8               (       omni84.asm):00466                 FCB     $F8
3F0C FE04             (       omni84.asm):00467                 FDB     $FE04 W
3F0E 0804             (       omni84.asm):00468                 FDB     $0804
3F10 FE               (       omni84.asm):00469                 FCB     $FE
3F11 C628             (       omni84.asm):00470                 FDB     $C628 X
3F13 1028             (       omni84.asm):00471                 FDB     $1028
3F15 C6               (       omni84.asm):00472                 FCB     $C6
3F16 E010             (       omni84.asm):00473                 FDB     $E010 Y
3F18 0E10             (       omni84.asm):00474                 FDB     $0E10
3F1A E0               (       omni84.asm):00475                 FCB     $E0
3F1B 868A             (       omni84.asm):00476                 FDB     $868A Z
3F1D 92A2             (       omni84.asm):00477                 FDB     $92A2
3F1F C2               (       omni84.asm):00478                 FCB     $C2
3F20 00FE             (       omni84.asm):00479                 FDB     $00FE [
3F22 8282             (       omni84.asm):00480                 FDB     $8282
3F24 00               (       omni84.asm):00481                 FCB     $00
3F25 C020             (       omni84.asm):00482                 FDB     $C020 \
3F27 1008             (       omni84.asm):00483                 FDB     $1008
3F29 06               (       omni84.asm):00484                 FCB     $06
3F2A 0082             (       omni84.asm):00485                 FDB     $0082 ]
3F2C 82FE             (       omni84.asm):00486                 FDB     $82FE
3F2E 00               (       omni84.asm):00487                 FCB     $00
3F2F 2040             (       omni84.asm):00488                 FDB     $2040 ^
3F31 FE40             (       omni84.asm):00489                 FDB     $FE40
3F33 20               (       omni84.asm):00490                 FCB     $20
3F34 0202             (       omni84.asm):00491                 FDB     $0202
3F36 0202             (       omni84.asm):00492                 FDB     $0202
3F38 02               (       omni84.asm):00493                 FCB     $02
                      (       omni84.asm):00494         
                      (       omni84.asm):00495         *SCROLL WINDOW
                      (       omni84.asm):00496         *
3F39 DCB5             (       omni84.asm):00497         WSCROL  LDD     ULROW
3F3B 44               (       omni84.asm):00498                 LSRA
3F3C 56               (       omni84.asm):00499                 RORB
3F3D 44               (       omni84.asm):00500                 LSRA
3F3E 56               (       omni84.asm):00501                 RORB
3F3F 44               (       omni84.asm):00502                 LSRA
3F40 56               (       omni84.asm):00503                 RORB
3F41 D3C3             (       omni84.asm):00504                 ADDD    SCRN
3F43 1F01             (       omni84.asm):00505                 TFR     D,X
3F45 30890100         (       omni84.asm):00506                 LEAX    256,X
3F49 96B5             (       omni84.asm):00507                 LDA     ULROW
3F4B D6B8             (       omni84.asm):00508                 LDB     LRCOL
3F4D 44               (       omni84.asm):00509                 LSRA
3F4E 56               (       omni84.asm):00510                 RORB
3F4F 44               (       omni84.asm):00511                 LSRA
3F50 56               (       omni84.asm):00512                 RORB
3F51 44               (       omni84.asm):00513                 LSRA
3F52 56               (       omni84.asm):00514                 RORB
3F53 D3C3             (       omni84.asm):00515                 ADDD    SCRN
3F55 1F02             (       omni84.asm):00516                 TFR     D,Y
3F57 31A90100         (       omni84.asm):00517                 LEAY    256,Y
                      (       omni84.asm):00518         *FUDGE
3F5B 3121             (       omni84.asm):00519                 LEAY    1,Y
3F5D 96B7             (       omni84.asm):00520                 LDA     LRROW
3F5F D6B6             (       omni84.asm):00521                 LDB     ULCOL
3F61 44               (       omni84.asm):00522                 LSRA
3F62 56               (       omni84.asm):00523                 RORB
3F63 44               (       omni84.asm):00524                 LSRA
3F64 56               (       omni84.asm):00525                 RORB
3F65 44               (       omni84.asm):00526                 LSRA
3F66 56               (       omni84.asm):00527                 RORB
3F67 D3C3             (       omni84.asm):00528                 ADDD    SCRN
3F69 1F03             (       omni84.asm):00529                 TFR     D,U
3F6B 33C90100         (       omni84.asm):00530                 LEAU    256,U
3F6F 3440             (       omni84.asm):00531                 PSHS    U
3F71 3420             (       omni84.asm):00532         S1      PSHS    Y
3F73 1F13             (       omni84.asm):00533                 TFR     X,U
3F75 ECC1             (       omni84.asm):00534         S2      LDD     ,U++
3F77 EDC9FEFE         (       omni84.asm):00535                 STD     -258,U
3F7B 11A3E4           (       omni84.asm):00536                 CMPU    ,S
3F7E 25F5             (       omni84.asm):00537                 BLO     S2
3F80 3520             (       omni84.asm):00538                 PULS    Y
3F82 308820           (       omni84.asm):00539                 LEAX    32,X
3F85 31A820           (       omni84.asm):00540                 LEAY    32,Y
3F88 ACE4             (       omni84.asm):00541                 CMPX    ,S
3F8A 25E5             (       omni84.asm):00542                 BLO     S1
3F8C 3089FF00         (       omni84.asm):00543                 LEAX    -256,X
3F90 31A9FF00         (       omni84.asm):00544                 LEAY    -256,Y
3F94 86FF             (       omni84.asm):00545                 LDA     #-1
3F96 3420             (       omni84.asm):00546         S3      PSHS    Y
3F98 1F13             (       omni84.asm):00547                 TFR     X,U
3F9A A7C0             (       omni84.asm):00548         S4      STA     ,U+
3F9C 11A3E4           (       omni84.asm):00549                 CMPU    ,S
3F9F 25F9             (       omni84.asm):00550                 BLO     S4
3FA1 3520             (       omni84.asm):00551                 PULS    Y
3FA3 308820           (       omni84.asm):00552                 LEAX    32,X
3FA6 31A820           (       omni84.asm):00553                 LEAY    32,Y
3FA9 ACE4             (       omni84.asm):00554                 CMPX    ,S
3FAB 25E9             (       omni84.asm):00555                 BLO     S3
3FAD 3540             (       omni84.asm):00556                 PULS    U
3FAF 96B6             (       omni84.asm):00557                 LDA     ULCOL
3FB1 97BA             (       omni84.asm):00558                 STA     CURCOL
3FB3 96B9             (       omni84.asm):00559                 LDA     CURROW
3FB5 8008             (       omni84.asm):00560                 SUBA    #8
3FB7 97B9             (       omni84.asm):00561                 STA     CURROW
3FB9 39               (       omni84.asm):00562                 RTS
                      (       omni84.asm):00563         
                      (       omni84.asm):00564         *PRINT MESSAGE
                      (       omni84.asm):00565         *       U=MESSAGE
                      (       omni84.asm):00566         *
3FBA 3440             (       omni84.asm):00567         MSG     PSHS    U
3FBC EEE4             (       omni84.asm):00568         MSG0    LDU     ,S
3FBE A6C0             (       omni84.asm):00569                 LDA     ,U+
3FC0 270C             (       omni84.asm):00570                 BEQ     XMSG
3FC2 EFE4             (       omni84.asm):00571                 STU     ,S
3FC4 8E2000           (       omni84.asm):00572                 LDX     #$2000
3FC7 301F             (       omni84.asm):00573         DELAY   LEAX    -1,X
                      (       omni84.asm):00574         *       BNE     DELAY
3FC9 17FCE8           (       omni84.asm):00575                 LBSR    OUT
3FCC 20EE             (       omni84.asm):00576                 BRA     MSG0
3FCE 3540             (       omni84.asm):00577         XMSG    PULS    U
3FD0 39               (       omni84.asm):00578                 RTS
                      (       omni84.asm):00579         
                      (       omni84.asm):00580         *INTERRUPT SERVICER
                      (       omni84.asm):00581         *
3FD1 B6FF03           (       omni84.asm):00582         IRQ     LDA     $FF03
3FD4 2A78             (       omni84.asm):00583                 BPL     XIRQ
3FD6 B6FF02           (       omni84.asm):00584                 LDA     $FF02
3FD9 0ABB             (       omni84.asm):00585                 DEC     IRQTIM
3FDB 2671             (       omni84.asm):00586                 BNE     XIRQ
3FDD DCB5             (       omni84.asm):00587                 LDD     ULROW
3FDF 3406             (       omni84.asm):00588                 PSHS    D
3FE1 DCB7             (       omni84.asm):00589                 LDD     LRROW
3FE3 3406             (       omni84.asm):00590                 PSHS    D
3FE5 DCB9             (       omni84.asm):00591                 LDD     CURROW
3FE7 3406             (       omni84.asm):00592                 PSHS    D
3FE9 8604             (       omni84.asm):00593                 LDA     #4
3FEB 97BB             (       omni84.asm):00594                 STA     IRQTIM
3FED 96BD             (       omni84.asm):00595                 LDA     NWINS
3FEF 3402             (       omni84.asm):00596                 PSHS    A
3FF1 CE33F6           (       omni84.asm):00597                 LDU     #WINTBL-10
3FF4 6AE4             (       omni84.asm):00598         IRQ0    DEC     ,S
3FF6 2D48             (       omni84.asm):00599                 BLT     XIRQ0
3FF8 334A             (       omni84.asm):00600                 LEAU    10,U
3FFA AED806           (       omni84.asm):00601                 LDX     [6,U]
3FFD 27F5             (       omni84.asm):00602                 BEQ     IRQ0
                      (       omni84.asm):00603         *ESTABLISH CURRENT WINDOW
3FFF ECC4             (       omni84.asm):00604                 LDD     ,U
4001 DDB5             (       omni84.asm):00605                 STD     ULROW
4003 EC42             (       omni84.asm):00606                 LDD     2,U
4005 DDB7             (       omni84.asm):00607                 STD     LRROW
4007 EC44             (       omni84.asm):00608                 LDD     4,U
4009 DDB9             (       omni84.asm):00609                 STD     CURROW
400B A680             (       omni84.asm):00610                 LDA     ,X+
400D 2713             (       omni84.asm):00611                 BEQ     IRQ1
                      (       omni84.asm):00612         *OUTPUT CHARACTER
400F AFD806           (       omni84.asm):00613                 STX     [6,U]
4012 3440             (       omni84.asm):00614                 PSHS    U
4014 1701CF           (       omni84.asm):00615                 LBSR    BEEP
4017 17FC9A           (       omni84.asm):00616                 LBSR    OUT
401A 3540             (       omni84.asm):00617                 PULS    U
                      (       omni84.asm):00618         *UPDATE CURRENT WINDOW
401C DCB9             (       omni84.asm):00619                 LDD     CURROW
401E ED44             (       omni84.asm):00620                 STD     4,U
4020 20D2             (       omni84.asm):00621                 BRA     IRQ0
                      (       omni84.asm):00622         *END OF MESSAGE
4022 EC48             (       omni84.asm):00623         IRQ1    LDD     8,U
4024 830002           (       omni84.asm):00624                 SUBD    #2
4027 ED48             (       omni84.asm):00625                 STD     8,U
4029 108E0008         (       omni84.asm):00626                 LDY     #8
402D AE46             (       omni84.asm):00627                 LDX     6,U
402F 313F             (       omni84.asm):00628         IRQ2    LEAY    -1,Y
4031 2706             (       omni84.asm):00629                 BEQ     XIRQ2
4033 EC02             (       omni84.asm):00630                 LDD     2,X
4035 ED81             (       omni84.asm):00631                 STD     ,X++
4037 20F6             (       omni84.asm):00632                 BRA     IRQ2
4039 CC0000           (       omni84.asm):00633         XIRQ2   LDD     #0
403C ED84             (       omni84.asm):00634                 STD     ,X
403E 20B4             (       omni84.asm):00635                 BRA     IRQ0
4040 3502             (       omni84.asm):00636         XIRQ0   PULS    A
4042 3506             (       omni84.asm):00637                 PULS    D
4044 DDB9             (       omni84.asm):00638                 STD     CURROW
4046 3506             (       omni84.asm):00639                 PULS    D
4048 DDB7             (       omni84.asm):00640                 STD     LRROW
404A 3506             (       omni84.asm):00641                 PULS    D
404C DDB5             (       omni84.asm):00642                 STD     ULROW
404E 3B               (       omni84.asm):00643         XIRQ    RTI
                      (       omni84.asm):00644         
                      (       omni84.asm):00645         *PRINT INTO WINDOW
                      (       omni84.asm):00646         *       A=WINDOW (0-7)
                      (       omni84.asm):00647         *       X=MESSAGE
404F CE3400           (       omni84.asm):00648         PRINT   LDU     #WINTBL
4052 C60A             (       omni84.asm):00649                 LDB     #10
4054 3D               (       omni84.asm):00650                 MUL
4055 33CB             (       omni84.asm):00651                 LEAU    D,U
4057 1A10             (       omni84.asm):00652                 ORCC    #$10
4059 AFD808           (       omni84.asm):00653                 STX     [8,U]
405C EC48             (       omni84.asm):00654                 LDD     8,U
405E C30002           (       omni84.asm):00655                 ADDD    #2
4061 ED48             (       omni84.asm):00656                 STD     8,U
4063 1CEF             (       omni84.asm):00657                 ANDCC   #$EF
4065 39               (       omni84.asm):00658                 RTS
                      (       omni84.asm):00659         
                      (       omni84.asm):00660         *INITIALIZE WINDOWS
                      (       omni84.asm):00661         *
4066 1A10             (       omni84.asm):00662         WINIT   ORCC    #$10
4068 0FBD             (       omni84.asm):00663                 CLR     NWINS
406A 8604             (       omni84.asm):00664                 LDA     #4
406C 97BB             (       omni84.asm):00665                 STA     IRQTIM
406E FC40DD           (       omni84.asm):00666                 LDD     HOOK
4071 FD010C           (       omni84.asm):00667                 STD     $10C
4074 B640DF           (       omni84.asm):00668                 LDA     HOOK+2
4077 B740DF           (       omni84.asm):00669                 STA     HOOK+2
407A B7010E           (       omni84.asm):00670                 STA     $10E
407D 308D005F         (       omni84.asm):00671                 LEAX    WDATA,PCR
4081 108E345A         (       omni84.asm):00672                 LDY     #QUETBL
4085 CE3400           (       omni84.asm):00673                 LDU     #WINTBL
4088 A680             (       omni84.asm):00674         WINIT0  LDA     ,X+
408A 2D3B             (       omni84.asm):00675                 BLT     XWINIT
408C 0CBD             (       omni84.asm):00676                 INC     NWINS
408E C608             (       omni84.asm):00677                 LDB     #8
4090 3D               (       omni84.asm):00678                 MUL
4091 E7C4             (       omni84.asm):00679                 STB     ,U
4093 E744             (       omni84.asm):00680                 STB     4,U
4095 D7B5             (       omni84.asm):00681                 STB     ULROW
4097 A680             (       omni84.asm):00682                 LDA     ,X+
4099 C607             (       omni84.asm):00683                 LDB     #7
409B 3D               (       omni84.asm):00684                 MUL
409C E741             (       omni84.asm):00685                 STB     1,U
409E E745             (       omni84.asm):00686                 STB     5,U
40A0 D7B6             (       omni84.asm):00687                 STB     ULCOL
40A2 A680             (       omni84.asm):00688                 LDA     ,X+
40A4 C608             (       omni84.asm):00689                 LDB     #8
40A6 3D               (       omni84.asm):00690                 MUL
40A7 E742             (       omni84.asm):00691                 STB     2,U
40A9 D7B7             (       omni84.asm):00692                 STB     LRROW
40AB A680             (       omni84.asm):00693                 LDA     ,X+
40AD C607             (       omni84.asm):00694                 LDB     #7
40AF 3D               (       omni84.asm):00695                 MUL
40B0 E743             (       omni84.asm):00696                 STB     3,U
40B2 D7B8             (       omni84.asm):00697                 STB     LRCOL
40B4 10AF46           (       omni84.asm):00698                 STY     6,U
40B7 10AF48           (       omni84.asm):00699                 STY     8,U
40BA 31A810           (       omni84.asm):00700                 LEAY    16,Y
40BD 334A             (       omni84.asm):00701                 LEAU    10,U
40BF 170056           (       omni84.asm):00702                 LBSR    WBORDR
40C2 17003C           (       omni84.asm):00703                 LBSR    WCENTR
40C5 20C1             (       omni84.asm):00704                 BRA     WINIT0
40C7 CE345A           (       omni84.asm):00705         XWINIT  LDU     #QUETBL
40CA 8620             (       omni84.asm):00706                 LDA     #32
40CC 3402             (       omni84.asm):00707                 PSHS    A
40CE 4F               (       omni84.asm):00708                 CLRA
40CF 5F               (       omni84.asm):00709                 CLRB
40D0 6AE4             (       omni84.asm):00710         WINIT2  DEC     ,S
40D2 2D06             (       omni84.asm):00711                 BLT     XXWINI
40D4 EDC1             (       omni84.asm):00712                 STD     ,U++
40D6 EDC1             (       omni84.asm):00713                 STD     ,U++
40D8 20F6             (       omni84.asm):00714                 BRA     WINIT2
40DA 3502             (       omni84.asm):00715         XXWINI  PULS    A
40DC 39               (       omni84.asm):00716                 RTS
                      (       omni84.asm):00717         
40DD 7E3FD1           (       omni84.asm):00718         HOOK    JMP     IRQ
                      (       omni84.asm):00719         
40E0                  (       omni84.asm):00720         WDATA
                      (       omni84.asm):00721         *WINDOW #0
40E0 01               (       omni84.asm):00722                 FCB     1
40E1 02               (       omni84.asm):00723                 FCB     2
40E2 05               (       omni84.asm):00724                 FCB     5
40E3 08               (       omni84.asm):00725                 FCB     8
                      (       omni84.asm):00726         
                      (       omni84.asm):00727         *WINDOW #1
40E4 01               (       omni84.asm):00728                 FCB     1
40E5 0B               (       omni84.asm):00729                 FCB     11
40E6 05               (       omni84.asm):00730                 FCB     5
40E7 12               (       omni84.asm):00731                 FCB     18
                      (       omni84.asm):00732         
                      (       omni84.asm):00733         *WINDOW #2
40E8 01               (       omni84.asm):00734                 FCB     1
40E9 14               (       omni84.asm):00735                 FCB     20
40EA 05               (       omni84.asm):00736                 FCB     5
40EB 1B               (       omni84.asm):00737                 FCB     27
                      (       omni84.asm):00738         
                      (       omni84.asm):00739         *WINDOW #3
40EC 01               (       omni84.asm):00740                 FCB     1
40ED 1D               (       omni84.asm):00741                 FCB     29
40EE 05               (       omni84.asm):00742                 FCB     5
40EF 23               (       omni84.asm):00743                 FCB     35
                      (       omni84.asm):00744         
                      (       omni84.asm):00745         *WINDOW #4
40F0 07               (       omni84.asm):00746                 FCB     7
40F1 02               (       omni84.asm):00747                 FCB     2
40F2 0D               (       omni84.asm):00748                 FCB     13
40F3 23               (       omni84.asm):00749                 FCB     35
                      (       omni84.asm):00750         
                      (       omni84.asm):00751         *WINDOW #5
40F4 0F               (       omni84.asm):00752                 FCB     15
40F5 02               (       omni84.asm):00753                 FCB     2
40F6 10               (       omni84.asm):00754                 FCB     16
40F7 23               (       omni84.asm):00755                 FCB     35
                      (       omni84.asm):00756         
                      (       omni84.asm):00757         *WINDOW #6
40F8 12               (       omni84.asm):00758                 FCB     18
40F9 02               (       omni84.asm):00759                 FCB     2
40FA 16               (       omni84.asm):00760                 FCB     22
40FB 12               (       omni84.asm):00761                 FCB     18
                      (       omni84.asm):00762         
                      (       omni84.asm):00763         *WINDOW #7
40FC 12               (       omni84.asm):00764                 FCB     18
40FD 14               (       omni84.asm):00765                 FCB     20
40FE 16               (       omni84.asm):00766                 FCB     22
40FF 23               (       omni84.asm):00767                 FCB     35
                      (       omni84.asm):00768         
4100 FF               (       omni84.asm):00769                 FCB     -1
                      (       omni84.asm):00770         
                      (       omni84.asm):00771         *COMPUTE WINDOW CENTER
                      (       omni84.asm):00772         *
4101 3430             (       omni84.asm):00773         WCENTR  PSHS    X,Y
4103 DCB5             (       omni84.asm):00774                 LDD     ULROW
4105 3406             (       omni84.asm):00775                 PSHS    D
4107 DCB7             (       omni84.asm):00776                 LDD     LRROW
4109 A0E4             (       omni84.asm):00777                 SUBA    ,S
410B E061             (       omni84.asm):00778                 SUBB    1,S
410D 44               (       omni84.asm):00779                 LSRA
410E 54               (       omni84.asm):00780                 LSRB
410F ABE0             (       omni84.asm):00781                 ADDA    ,S+
4111 EBE0             (       omni84.asm):00782                 ADDB    ,S+
4113 8B03             (       omni84.asm):00783                 ADDA    #3
                      (       omni84.asm):00784         *CENTER X,Y ARE IN B,A
4115 3530             (       omni84.asm):00785                 PULS    X,Y
4117 39               (       omni84.asm):00786                 RTS
                      (       omni84.asm):00787         
                      (       omni84.asm):00788         *DRAW WINDOW BORDER
                      (       omni84.asm):00789         *
4118 3430             (       omni84.asm):00790         WBORDR  PSHS    X,Y
411A DCB5             (       omni84.asm):00791                 LDD     ULROW
411C 17007A           (       omni84.asm):00792                 LBSR    GENPTR
411F 1F01             (       omni84.asm):00793                 TFR     D,X
4121 301F             (       omni84.asm):00794                 LEAX    -1,X
4123 3088A0           (       omni84.asm):00795                 LEAX    -32*3,X
4126 96B5             (       omni84.asm):00796                 LDA     ULROW
4128 D6B8             (       omni84.asm):00797                 LDB     LRCOL
412A 17006C           (       omni84.asm):00798                 LBSR    GENPTR
412D 1F02             (       omni84.asm):00799                 TFR     D,Y
412F 3121             (       omni84.asm):00800                 LEAY    1,Y
4131 31A8A0           (       omni84.asm):00801                 LEAY    -32*3,Y
4134 CCF87F           (       omni84.asm):00802                 LDD     #$F87F
4137 A484             (       omni84.asm):00803                 ANDA    ,X
4139 A784             (       omni84.asm):00804                 STA     ,X
413B A4A4             (       omni84.asm):00805                 ANDA    ,Y
413D E7A4             (       omni84.asm):00806                 STB     ,Y
413F 3430             (       omni84.asm):00807                 PSHS    X,Y
4141 96B7             (       omni84.asm):00808                 LDA     LRROW
4143 D6B6             (       omni84.asm):00809                 LDB     ULCOL
4145 170051           (       omni84.asm):00810                 LBSR    GENPTR
4148 1F01             (       omni84.asm):00811                 TFR     D,X
414A 301F             (       omni84.asm):00812                 LEAX    -1,X
414C 308900C0         (       omni84.asm):00813                 LEAX    32*6,X
4150 308860           (       omni84.asm):00814                 LEAX    32*3,X
4153 DCB7             (       omni84.asm):00815                 LDD     LRROW
4155 170041           (       omni84.asm):00816                 LBSR    GENPTR
4158 1F02             (       omni84.asm):00817                 TFR     D,Y
415A 3121             (       omni84.asm):00818                 LEAY    1,Y
415C 31A900C0         (       omni84.asm):00819                 LEAY    32*6,Y
4160 31A860           (       omni84.asm):00820                 LEAY    32*3,Y
4163 CCF81F           (       omni84.asm):00821                 LDD     #$F81F
4166 A484             (       omni84.asm):00822                 ANDA    ,X
4168 A784             (       omni84.asm):00823                 STA     ,X
416A E4A4             (       omni84.asm):00824                 ANDB    ,Y
416C E7A4             (       omni84.asm):00825                 STB     ,Y
416E E7A820           (       omni84.asm):00826                 STB     32,Y
4171 3430             (       omni84.asm):00827                 PSHS    X,Y
4173 170037           (       omni84.asm):00828                 LBSR    VLINE
4176 AEE4             (       omni84.asm):00829                 LDX     ,S
4178 10AE62           (       omni84.asm):00830                 LDY     2,S
417B 170024           (       omni84.asm):00831                 LBSR    HLINE
417E AE64             (       omni84.asm):00832                 LDX     4,S
4180 10AE66           (       omni84.asm):00833                 LDY     6,S
4183 17001C           (       omni84.asm):00834                 LBSR    HLINE
4186 AEE4             (       omni84.asm):00835                 LDX     ,S
4188 10AE62           (       omni84.asm):00836                 LDY     2,S
418B 308820           (       omni84.asm):00837                 LEAX    32,X
418E 31A820           (       omni84.asm):00838                 LEAY    32,Y
4191 17000E           (       omni84.asm):00839                 LBSR    HLINE
4194 3268             (       omni84.asm):00840                 LEAS    8,S
4196 3530             (       omni84.asm):00841                 PULS    X,Y
4198 39               (       omni84.asm):00842                 RTS
                      (       omni84.asm):00843         
                      (       omni84.asm):00844         *GENERATE BYTE POINTER
                      (       omni84.asm):00845         *
4199 44               (       omni84.asm):00846         GENPTR  LSRA
419A 56               (       omni84.asm):00847                 RORB
419B 44               (       omni84.asm):00848                 LSRA
419C 56               (       omni84.asm):00849                 RORB
419D 44               (       omni84.asm):00850                 LSRA
419E 56               (       omni84.asm):00851                 RORB
419F D3C3             (       omni84.asm):00852                 ADDD    SCRN
41A1 39               (       omni84.asm):00853                 RTS
                      (       omni84.asm):00854         
41A2 3001             (       omni84.asm):00855         HLINE   LEAX    1,X
41A4 6F80             (       omni84.asm):00856         HLINE0  CLR     ,X+
41A6 3420             (       omni84.asm):00857                 PSHS    Y
41A8 ACE1             (       omni84.asm):00858                 CMPX    ,S++
41AA 26F8             (       omni84.asm):00859                 BNE     HLINE0
41AC 39               (       omni84.asm):00860                 RTS
                      (       omni84.asm):00861         
41AD AE66             (       omni84.asm):00862         VLINE   LDX     6,S
41AF 10AE68           (       omni84.asm):00863                 LDY     8,S
41B2 308820           (       omni84.asm):00864                 LEAX    32,X
41B5 31A820           (       omni84.asm):00865                 LEAY    32,Y
41B8 A684             (       omni84.asm):00866         VLINE0  LDA     ,X
41BA 84FB             (       omni84.asm):00867                 ANDA    #$FB
41BC A784             (       omni84.asm):00868                 STA     ,X
41BE E6A4             (       omni84.asm):00869                 LDB     ,Y
41C0 C41F             (       omni84.asm):00870                 ANDB    #$1F
41C2 E7A4             (       omni84.asm):00871                 STB     ,Y
41C4 308820           (       omni84.asm):00872                 LEAX    32,X
41C7 31A820           (       omni84.asm):00873                 LEAY    32,Y
41CA AC62             (       omni84.asm):00874                 CMPX    2,S
41CC 23EA             (       omni84.asm):00875                 BLS     VLINE0
41CE 39               (       omni84.asm):00876                 RTS
                      (       omni84.asm):00877         
                      (       omni84.asm):00878         *DRAW ONE PIXEL
                      (       omni84.asm):00879         *
41CF 3404             (       omni84.asm):00880         PSET    PSHS    B
41D1 17FFC5           (       omni84.asm):00881                 LBSR    GENPTR
41D4 1F01             (       omni84.asm):00882                 TFR     D,X
41D6 318DFB86         (       omni84.asm):00883                 LEAY    BITBL,PCR
41DA 3504             (       omni84.asm):00884                 PULS    B
41DC C407             (       omni84.asm):00885                 ANDB    #7
41DE A6A5             (       omni84.asm):00886                 LDA     B,Y
41E0 43               (       omni84.asm):00887                 COMA
41E1 A484             (       omni84.asm):00888                 ANDA    ,X
41E3 A784             (       omni84.asm):00889                 STA     ,X
41E5 39               (       omni84.asm):00890                 RTS
                      (       omni84.asm):00891         
                      (       omni84.asm):00892         *MAKE KEYBEEP SOUND
                      (       omni84.asm):00893         *
41E6 3476             (       omni84.asm):00894         BEEP    PSHS    D,X,Y,U
41E8 3276             (       omni84.asm):00895                 LEAS    -10,S
41EA 1F89             (       omni84.asm):00896                 TFR     A,B
41EC C030             (       omni84.asm):00897                 SUBB    #'0
41EE 4F               (       omni84.asm):00898                 CLRA
41EF 338D00BB         (       omni84.asm):00899                 LEAU    TONES,PCR
41F3 58               (       omni84.asm):00900                 ASLB
41F4 33CB             (       omni84.asm):00901                 LEAU    D,U
41F6 3440             (       omni84.asm):00902                 PSHS    U
41F8 5F               (       omni84.asm):00903                 CLRB
41F9 BDA9A2           (       omni84.asm):00904                 JSR     $A9A2
41FC BDA976           (       omni84.asm):00905                 JSR     $A976
41FF 3540             (       omni84.asm):00906                 PULS    U
4201 4F               (       omni84.asm):00907                 CLRA
4202 5F               (       omni84.asm):00908                 CLRB
4203 EDE4             (       omni84.asm):00909                 STD     ,S
4205 ED62             (       omni84.asm):00910                 STD     2,S
4207 8602             (       omni84.asm):00911         MULUP1  LDA     #2
4209 A768             (       omni84.asm):00912                 STA     8,S
420B 318D003D         (       omni84.asm):00913                 LEAY    NOTES,PCR
420F A6C0             (       omni84.asm):00914                 LDA     ,U+
4211 ECA6             (       omni84.asm):00915                 LDD     A,Y
4213 ED64             (       omni84.asm):00916                 STD     4,S
4215 A6C0             (       omni84.asm):00917                 LDA     ,U+
4217 ECA6             (       omni84.asm):00918                 LDD     A,Y
4219 ED66             (       omni84.asm):00919                 STD     6,S
421B 108E0028         (       omni84.asm):00920         MULUP2  LDY     #40
421F 8E0000           (       omni84.asm):00921         MULUP3  LDX     #0
4222 E6E4             (       omni84.asm):00922                 LDB     ,S
4224 2A01             (       omni84.asm):00923                 BPL     MU1
4226 53               (       omni84.asm):00924                 COMB
4227 3A               (       omni84.asm):00925         MU1     ABX
4228 E662             (       omni84.asm):00926                 LDB     2,S
422A 2A01             (       omni84.asm):00927                 BPL     MU2
422C 53               (       omni84.asm):00928                 COMB
422D 3A               (       omni84.asm):00929         MU2     ABX
422E 1F10             (       omni84.asm):00930                 TFR     X,D
                      (       omni84.asm):00931         *       LSRA
                      (       omni84.asm):00932         *       RORB
4230 F7FF20           (       omni84.asm):00933                 STB     $FF20
4233 ECE4             (       omni84.asm):00934                 LDD     ,S
4235 E364             (       omni84.asm):00935                 ADDD    4,S
4237 EDE4             (       omni84.asm):00936                 STD     ,S
4239 EC62             (       omni84.asm):00937                 LDD     2,S
423B E366             (       omni84.asm):00938                 ADDD    6,S
423D ED62             (       omni84.asm):00939                 STD     2,S
423F 31A2             (       omni84.asm):00940                 LEAY    ,-Y
4241 26DC             (       omni84.asm):00941                 BNE     MULUP3
4243 6A68             (       omni84.asm):00942                 DEC     8,S
4245 26D4             (       omni84.asm):00943                 BNE     MULUP2
4247 326A             (       omni84.asm):00944         MUDUN   LEAS    10,S
4249 3576             (       omni84.asm):00945                 PULS    D,X,Y,U
424B 39               (       omni84.asm):00946                 RTS
                      (       omni84.asm):00947         
424C 0000             (       omni84.asm):00948         NOTES   FDB 0
424E 026F             (       omni84.asm):00949                 FDB $26F
4250 0294             (       omni84.asm):00950                 FDB $294
4252 02EB             (       omni84.asm):00951                 FDB $2EB
4254 02E4             (       omni84.asm):00952                 FDB $2E4
4256 0310             (       omni84.asm):00953                 FDB $310
4258 033F             (       omni84.asm):00954                 FDB $33F
425A 0371             (       omni84.asm):00955                 FDB $371
425C 03A5             (       omni84.asm):00956                 FDB $3A5
425E 03DC             (       omni84.asm):00957                 FDB $3DC
4260 0417             (       omni84.asm):00958                 FDB $417
4262 0456             (       omni84.asm):00959                 FDB $456
4264 0498             (       omni84.asm):00960                 FDB $498
4266 04DD             (       omni84.asm):00961                 FDB $4DD
4268 0528             (       omni84.asm):00962                 FDB $528
426A 0576             (       omni84.asm):00963                 FDB $576
426C 05C9             (       omni84.asm):00964                 FDB $5C9
426E 0621             (       omni84.asm):00965                 FDB $621
4270 067F             (       omni84.asm):00966                 FDB $67F
4272 06E2             (       omni84.asm):00967                 FDB $6E2
4274 074A             (       omni84.asm):00968                 FDB $74A
4276 07B9             (       omni84.asm):00969                 FDB $7B9
4278 082F             (       omni84.asm):00970                 FDB $82F
427A 08AC             (       omni84.asm):00971                 FDB $8AC
427C 0930             (       omni84.asm):00972                 FDB $930
427E 09BB             (       omni84.asm):00973                 FDB $9BB
4280 0A50             (       omni84.asm):00974                 FDB $A50
4282 0AED             (       omni84.asm):00975                 FDB $AED
4284 0B93             (       omni84.asm):00976                 FDB $B93
4286 0C43             (       omni84.asm):00977                 FDB $C43
4288 0CFE             (       omni84.asm):00978                 FDB $CFE
428A 0DC4             (       omni84.asm):00979                 FDB $DC4
428C 0E95             (       omni84.asm):00980                 FDB $E95
428E 0F73             (       omni84.asm):00981                 FDB $F73
4290 105F             (       omni84.asm):00982                 FDB $105F
4292 1158             (       omni84.asm):00983                 FDB $1158
4294 1260             (       omni84.asm):00984                 FDB $1260
4296 1377             (       omni84.asm):00985                 FDB $1377
4298 14A0             (       omni84.asm):00986                 FDB $14A0
429A 15DA             (       omni84.asm):00987                 FDB $15DA
429C 1726             (       omni84.asm):00988                 FDB $1726
429E 1887             (       omni84.asm):00989                 FDB $1887
42A0 19FC             (       omni84.asm):00990                 FDB $19FC
42A2 1B88             (       omni84.asm):00991                 FDB $1B88
42A4 1D2B             (       omni84.asm):00992                 FDB $1D2B
42A6 1EE7             (       omni84.asm):00993                 FDB $1EE7
42A8 20BE             (       omni84.asm):00994                 FDB $20BE
42AA 22B0             (       omni84.asm):00995                 FDB $22B0
42AC 24C0             (       omni84.asm):00996                 FDB $24C0
                      (       omni84.asm):00997         
                      (       omni84.asm):00998         
42AE 3A32             (       omni84.asm):00999         TONES   FDB $3A32
42B0 3C32             (       omni84.asm):01000                 FDB $3C32
42B2 4032             (       omni84.asm):01001                 FDB $4032
42B4 3A34             (       omni84.asm):01002                 FDB $3A34
42B6 3C34             (       omni84.asm):01003                 FDB $3C34
42B8 4034             (       omni84.asm):01004                 FDB $4034
42BA 3A36             (       omni84.asm):01005                 FDB $3A36
42BC 3C36             (       omni84.asm):01006                 FDB $3C36
42BE 4036             (       omni84.asm):01007                 FDB $4036
                      (       omni84.asm):01008         
                      (       omni84.asm):01009         *CLEAR CURRENT WINDOW
                      (       omni84.asm):01010         *
42C0 96B5             (       omni84.asm):01011         WCLEAR  LDA     ULROW
42C2 D6B8             (       omni84.asm):01012                 LDB     LRCOL
42C4 17FED2           (       omni84.asm):01013                 LBSR    GENPTR
42C7 830020           (       omni84.asm):01014                 SUBD    #32
42CA 3406             (       omni84.asm):01015                 PSHS    D
42CC DCB5             (       omni84.asm):01016                 LDD     ULROW
42CE 17FEC8           (       omni84.asm):01017                 LBSR    GENPTR
42D1 830020           (       omni84.asm):01018                 SUBD    #32
42D4 3406             (       omni84.asm):01019                 PSHS    D
42D6 DCB7             (       omni84.asm):01020                 LDD     LRROW
42D8 17FEBE           (       omni84.asm):01021                 LBSR    GENPTR
42DB C30100           (       omni84.asm):01022                 ADDD    #256
42DE 1F03             (       omni84.asm):01023                 TFR     D,U
42E0 AEE4             (       omni84.asm):01024         WCLR1   LDX     ,S
42E2 308820           (       omni84.asm):01025                 LEAX    32,X
42E5 10AE62           (       omni84.asm):01026                 LDY     2,S
42E8 31A820           (       omni84.asm):01027                 LEAY    32,Y
42EB 3440             (       omni84.asm):01028                 PSHS    U
42ED 10ACE1           (       omni84.asm):01029                 CMPY    ,S++
42F0 2211             (       omni84.asm):01030                 BHI     WCLR3
42F2 AFE4             (       omni84.asm):01031                 STX     ,S
42F4 10AF62           (       omni84.asm):01032                 STY     2,S
42F7 86FF             (       omni84.asm):01033                 LDA     #-1
42F9 A780             (       omni84.asm):01034         WCLR2   STA     ,X+
42FB 3420             (       omni84.asm):01035                 PSHS    Y
42FD ACE1             (       omni84.asm):01036                 CMPX    ,S++
42FF 23F8             (       omni84.asm):01037                 BLS     WCLR2
4301 20DD             (       omni84.asm):01038                 BRA     WCLR1
4303 3264             (       omni84.asm):01039         WCLR3   LEAS    4,S
4305 DCB5             (       omni84.asm):01040                 LDD     ULROW
4307 DDB9             (       omni84.asm):01041                 STD     CURROW
4309 39               (       omni84.asm):01042                 RTS
                      (       omni84.asm):01043         
                      (       omni84.asm):01044         *CENTER LINE OF TEXT
                      (       omni84.asm):01045         *
430A 3436             (       omni84.asm):01046         CENTER  PSHS    D,X,Y
430C 108E0000         (       omni84.asm):01047                 LDY     #0
4310 5F               (       omni84.asm):01048                 CLRB
4311 A680             (       omni84.asm):01049         CENTR1  LDA     ,X+
4313 2708             (       omni84.asm):01050                 BEQ     CENTR2
4315 810D             (       omni84.asm):01051                 CMPA    #$0D
4317 2704             (       omni84.asm):01052                 BEQ     CENTR2
4319 3139             (       omni84.asm):01053                 LEAY    -7,Y
431B 20F4             (       omni84.asm):01054                 BRA     CENTR1
431D 4F               (       omni84.asm):01055         CENTR2  CLRA
431E D6B6             (       omni84.asm):01056                 LDB     ULCOL
4320 3406             (       omni84.asm):01057                 PSHS    D
4322 D6B8             (       omni84.asm):01058                 LDB     LRCOL
4324 A3E1             (       omni84.asm):01059                 SUBD    ,S++
4326 47               (       omni84.asm):01060                 ASRA
4327 56               (       omni84.asm):01061                 RORB
4328 DBB6             (       omni84.asm):01062                 ADDB    ULCOL
432A 4F               (       omni84.asm):01063                 CLRA
432B 1E02             (       omni84.asm):01064                 EXG     D,Y
432D 47               (       omni84.asm):01065                 ASRA
432E 56               (       omni84.asm):01066                 RORB
432F 3420             (       omni84.asm):01067                 PSHS    Y
4331 E3E1             (       omni84.asm):01068                 ADDD    ,S++
4333 1093B6           (       omni84.asm):01069                 CMPD    ULCOL
4336 2402             (       omni84.asm):01070                 BHS     XCENTR
4338 D6B6             (       omni84.asm):01071                 LDB     ULCOL
433A D7BA             (       omni84.asm):01072         XCENTR  STB     CURCOL
433C 3536             (       omni84.asm):01073                 PULS    D,X,Y
433E 39               (       omni84.asm):01074                 RTS
                      (       omni84.asm):01075         
                      (       omni84.asm):01076         *GET KEYBOARD INPUT
                      (       omni84.asm):01077         *
433F 0CB4             (       omni84.asm):01078         KEYIN   INC     TIMER
4341 2D05             (       omni84.asm):01079                 BLT     KEYIN1
4343 17FA22           (       omni84.asm):01080                 LBSR    ERASE
4346 2009             (       omni84.asm):01081                 BRA     KEYIN2
4348 17FA63           (       omni84.asm):01082         KEYIN1  LBSR    CURSOR
434B 96BA             (       omni84.asm):01083                 LDA     CURCOL
434D 8007             (       omni84.asm):01084                 SUBA    #7
434F 97BA             (       omni84.asm):01085                 STA     CURCOL
4351 AD9FA000         (       omni84.asm):01086         KEYIN2  JSR     [$A000]
4355 3402             (       omni84.asm):01087                 PSHS    A
4357 2745             (       omni84.asm):01088                 BEQ     XKEYIN
4359 B7FFCC           (       omni84.asm):01089                 STA     $FFCC
435C B7FFCA           (       omni84.asm):01090                 STA     $FFCA
435F 17FE84           (       omni84.asm):01091                 LBSR    BEEP
4362 A6E4             (       omni84.asm):01092                 LDA     ,S
4364 810C             (       omni84.asm):01093                 CMPA    #$0C
4366 2605             (       omni84.asm):01094                 BNE     KEYIN3
4368 D6CA             (       omni84.asm):01095                 LDB     COUNT
436A 50               (       omni84.asm):01096                 NEGB
436B 2013             (       omni84.asm):01097                 BRA     KEYIN6
436D 810D             (       omni84.asm):01098         KEYIN3  CMPA    #$0D
436F 2605             (       omni84.asm):01099                 BNE     KEYIN4
4371 D6CA             (       omni84.asm):01100                 LDB     COUNT
4373 50               (       omni84.asm):01101                 NEGB
4374 200A             (       omni84.asm):01102                 BRA     KEYIN6
4376 8108             (       omni84.asm):01103         KEYIN4  CMPA    #$08
4378 2604             (       omni84.asm):01104                 BNE     KEYIN5
437A C6FF             (       omni84.asm):01105                 LDB     #$FF
437C 2002             (       omni84.asm):01106                 BRA     KEYIN6
437E C601             (       omni84.asm):01107         KEYIN5  LDB     #1
4380 DBCA             (       omni84.asm):01108         KEYIN6  ADDB    COUNT
4382 C120             (       omni84.asm):01109                 CMPB    #32
4384 2218             (       omni84.asm):01110                 BHI     XKEYIN
4386 D7CA             (       omni84.asm):01111                 STB     COUNT
4388 A6E4             (       omni84.asm):01112                 LDA     ,S
438A A79F00C8         (       omni84.asm):01113                 STA     [BUFPTR]
438E 308DF1E8         (       omni84.asm):01114                 LEAX    BUFFER,PCR
4392 3085             (       omni84.asm):01115                 LEAX    B,X
4394 9FC8             (       omni84.asm):01116                 STX     BUFPTR
4396 17F9CF           (       omni84.asm):01117                 LBSR    ERASE
4399 A6E4             (       omni84.asm):01118                 LDA     ,S
439B 17F916           (       omni84.asm):01119                 LBSR    OUT
439E 3502             (       omni84.asm):01120         XKEYIN  PULS    A
43A0 4D               (       omni84.asm):01121                 TSTA
43A1 39               (       omni84.asm):01122                 RTS
                      (       omni84.asm):01123         
                      (       omni84.asm):01124         *COMMAND PARSER
                      (       omni84.asm):01125         *
43A2 CC2020           (       omni84.asm):01126         PARSE   LDD     #$2020
43A5 DDCB             (       omni84.asm):01127                 STD     VERB
43A7 DDCD             (       omni84.asm):01128                 STD     VERB+2
43A9 DDCF             (       omni84.asm):01129                 STD     VERB+4
43AB DDD1             (       omni84.asm):01130                 STD     OBJECT
43AD DDD3             (       omni84.asm):01131                 STD     OBJECT+2
43AF DDD5             (       omni84.asm):01132                 STD     OBJECT+4
43B1 8E357A           (       omni84.asm):01133                 LDX     #BUFFER
43B4 8605             (       omni84.asm):01134                 LDA     #5
43B6 CE00CB           (       omni84.asm):01135                 LDU     #VERB
43B9 E680             (       omni84.asm):01136         PARSE0  LDB     ,X+
43BB C10D             (       omni84.asm):01137                 CMPB    #$0D
43BD 2721             (       omni84.asm):01138                 BEQ     XPARSE
43BF C120             (       omni84.asm):01139                 CMPB    #$20
43C1 2707             (       omni84.asm):01140                 BEQ     PARSE1
43C3 4A               (       omni84.asm):01141                 DECA
43C4 2D04             (       omni84.asm):01142                 BLT     PARSE1
43C6 E7C0             (       omni84.asm):01143                 STB     ,U+
43C8 20EF             (       omni84.asm):01144                 BRA     PARSE0
43CA CE00D1           (       omni84.asm):01145         PARSE1  LDU     #OBJECT
43CD 8605             (       omni84.asm):01146                 LDA     #5
43CF E680             (       omni84.asm):01147         PARSE2  LDB     ,X+
43D1 C10D             (       omni84.asm):01148                 CMPB    #$0D
43D3 270B             (       omni84.asm):01149                 BEQ     XPARSE
43D5 C120             (       omni84.asm):01150                 CMPB    #$20
43D7 2707             (       omni84.asm):01151                 BEQ     XPARSE
43D9 4A               (       omni84.asm):01152                 DECA
43DA 2D04             (       omni84.asm):01153                 BLT     XPARSE
43DC E7C0             (       omni84.asm):01154                 STB     ,U+
43DE 20EF             (       omni84.asm):01155                 BRA     PARSE2
43E0 39               (       omni84.asm):01156         XPARSE  RTS
                      (       omni84.asm):01157         
                      (       omni84.asm):01158         *COMMAND DISPATCHER
                      (       omni84.asm):01159         *
43E1 B6357A           (       omni84.asm):01160         DISP    LDA     BUFFER
43E4 810D             (       omni84.asm):01161                 CMPA    #$0D
43E6 272B             (       omni84.asm):01162                 BEQ     XDISP
43E8 17004D           (       omni84.asm):01163                 LBSR    GENKEY
43EB 338D0025         (       omni84.asm):01164                 LEAU    TABLE,PCR
43EF 335C             (       omni84.asm):01165                 LEAU    -4,U
43F1 3344             (       omni84.asm):01166         DISP0   LEAU    4,U
43F3 6DC4             (       omni84.asm):01167                 TST     ,U
43F5 2D15             (       omni84.asm):01168                 BLT     ERR
43F7 10A3C4           (       omni84.asm):01169                 CMPD    ,U
43FA 26F5             (       omni84.asm):01170                 BNE     DISP0
43FC 3342             (       omni84.asm):01171                 LEAU    2,U
43FE ECC4             (       omni84.asm):01172                 LDD     ,U
4400 33CB             (       omni84.asm):01173                 LEAU    D,U
4402 3440             (       omni84.asm):01174                 PSHS    U
4404 17011E           (       omni84.asm):01175                 LBSR    LOOKUP
4407 3540             (       omni84.asm):01176                 PULS    U
4409 ADC4             (       omni84.asm):01177                 JSR     ,U
440B 39               (       omni84.asm):01178                 RTS
440C 338D001A         (       omni84.asm):01179         ERR     LEAU    ERROR,PCR
4410 17FBA7           (       omni84.asm):01180                 LBSR    MSG
4413 39               (       omni84.asm):01181         XDISP   RTS
                      (       omni84.asm):01182         
4414 11B3             (       omni84.asm):01183         TABLE   FDB     $11B3
4416 02DE             (       omni84.asm):01184                 FDB     ENT-.
4418 468D             (       omni84.asm):01185                 FDB     $468D
441A 0042             (       omni84.asm):01186                 FDB     RUN-.
441C 2DC0             (       omni84.asm):01187                 FDB     $2DC0
441E 0142             (       omni84.asm):01188                 FDB     LOA-.
4420 4815             (       omni84.asm):01189                 FDB     $4815
4422 0215             (       omni84.asm):01190                 FDB     SAV-.
4424 300F             (       omni84.asm):01191                 FDB     $300F
4426 0588             (       omni84.asm):01192                 FDB     MAP-.
4428 FFFF             (       omni84.asm):01193                 FDB     $FFFF
                      (       omni84.asm):01194         
442A                  (       omni84.asm):01195         ERROR
442A 53594E5441582045 (       omni84.asm):01196          FCC /SYNTAX ERROR/
     52524F52
4436 0D00             (       omni84.asm):01197                 FDB     $0D00
                      (       omni84.asm):01198         
4438 6FE2             (       omni84.asm):01199         GENKEY  CLR     ,-S
443A 6FE2             (       omni84.asm):01200                 CLR     ,-S
443C 96CB             (       omni84.asm):01201                 LDA     VERB
443E 8041             (       omni84.asm):01202                 SUBA    #'A
4440 48               (       omni84.asm):01203                 LSLA
4441 48               (       omni84.asm):01204                 LSLA
4442 5F               (       omni84.asm):01205                 CLRB
4443 EDE4             (       omni84.asm):01206                 STD     ,S
4445 D6CC             (       omni84.asm):01207                 LDB     VERB+1
4447 C041             (       omni84.asm):01208                 SUBB    #'A
4449 8620             (       omni84.asm):01209                 LDA     #32
444B 3D               (       omni84.asm):01210                 MUL
444C AAE4             (       omni84.asm):01211                 ORA     ,S
444E EA61             (       omni84.asm):01212                 ORB     1,S
4450 EDE4             (       omni84.asm):01213                 STD     ,S
4452 4F               (       omni84.asm):01214                 CLRA
4453 D6CD             (       omni84.asm):01215                 LDB     VERB+2
4455 C041             (       omni84.asm):01216                 SUBB    #'A
4457 AAE0             (       omni84.asm):01217                 ORA     ,S+
4459 EAE0             (       omni84.asm):01218                 ORB     ,S+
445B 39               (       omni84.asm):01219                 RTS
                      (       omni84.asm):01220         
445C                  (       omni84.asm):01221         RUN
445C 8604             (       omni84.asm):01222                 LDA     #4
445E 308D0004         (       omni84.asm):01223                 LEAX    M1,PCR
4462 17FBEA           (       omni84.asm):01224                 LBSR    PRINT
4465 39               (       omni84.asm):01225                 RTS
                      (       omni84.asm):01226         
4466 434F4D4D414E4420 (       omni84.asm):01227         M1 FCC /COMMAND OKAY/
     4F4B4159
4472 0D00             (       omni84.asm):01228                 FDB     $0D00
                      (       omni84.asm):01229         
                      (       omni84.asm):01230         *LIST INVENTORY CONTENTS
                      (       omni84.asm):01231         *       A=WINDOW (0-7)
                      (       omni84.asm):01232         *       X=DATA LIST
                      (       omni84.asm):01233         *
4474 1A10             (       omni84.asm):01234         LIST    ORCC    #$10
4476 CE3400           (       omni84.asm):01235                 LDU     #WINTBL
4479 C60A             (       omni84.asm):01236                 LDB     #10
447B 3D               (       omni84.asm):01237                 MUL
447C 33CB             (       omni84.asm):01238                 LEAU    D,U
447E DCB5             (       omni84.asm):01239                 LDD     ULROW
4480 3406             (       omni84.asm):01240                 PSHS    D
4482 DCB7             (       omni84.asm):01241                 LDD     LRROW
4484 3406             (       omni84.asm):01242                 PSHS    D
4486 DCB9             (       omni84.asm):01243                 LDD     CURROW
4488 3406             (       omni84.asm):01244                 PSHS    D
448A ECC4             (       omni84.asm):01245                 LDD     ,U
448C DDB5             (       omni84.asm):01246                 STD     ULROW
448E EC42             (       omni84.asm):01247                 LDD     2,U
4490 DDB7             (       omni84.asm):01248                 STD     LRROW
4492 EC44             (       omni84.asm):01249                 LDD     4,U
4494 DDB9             (       omni84.asm):01250                 STD     CURROW
4496 860C             (       omni84.asm):01251                 LDA     #$0C
4498 3410             (       omni84.asm):01252                 PSHS    X
449A 17F817           (       omni84.asm):01253                 LBSR    OUT
449D 3510             (       omni84.asm):01254                 PULS    X
449F A61F             (       omni84.asm):01255                 LDA     -1,X
44A1 3402             (       omni84.asm):01256                 PSHS    A
44A3 6AE4             (       omni84.asm):01257         LIST0   DEC     ,S
44A5 2D2A             (       omni84.asm):01258                 BLT     XLIST
44A7 E680             (       omni84.asm):01259                 LDB     ,X+
44A9 338D0035         (       omni84.asm):01260                 LEAU    WORDS,PCR
44AD 8605             (       omni84.asm):01261                 LDA     #5
44AF 3D               (       omni84.asm):01262                 MUL
44B0 33CB             (       omni84.asm):01263                 LEAU    D,U
44B2 C605             (       omni84.asm):01264                 LDB     #5
44B4 5A               (       omni84.asm):01265         LIST1   DECB
44B5 2D0B             (       omni84.asm):01266                 BLT     XLIST1
44B7 A6C0             (       omni84.asm):01267                 LDA     ,U+
44B9 3454             (       omni84.asm):01268                 PSHS    B,X,U
44BB 17F7F6           (       omni84.asm):01269                 LBSR    OUT
44BE 3554             (       omni84.asm):01270                 PULS    B,X,U
44C0 20F2             (       omni84.asm):01271                 BRA     LIST1
44C2 6DE4             (       omni84.asm):01272         XLIST1  TST     ,S
44C4 27DD             (       omni84.asm):01273                 BEQ     LIST0
44C6 8609             (       omni84.asm):01274                 LDA     #$09
44C8 3410             (       omni84.asm):01275                 PSHS    X
44CA 17F7E7           (       omni84.asm):01276                 LBSR    OUT
44CD 3510             (       omni84.asm):01277                 PULS    X
44CF 20D2             (       omni84.asm):01278                 BRA     LIST0
44D1 3502             (       omni84.asm):01279         XLIST   PULS    A
44D3 3506             (       omni84.asm):01280                 PULS    D
44D5 DDB9             (       omni84.asm):01281                 STD     CURROW
44D7 3506             (       omni84.asm):01282                 PULS    D
44D9 DDB7             (       omni84.asm):01283                 STD     LRROW
44DB 3506             (       omni84.asm):01284                 PULS    D
44DD DDB5             (       omni84.asm):01285                 STD     ULROW
44DF 1CEF             (       omni84.asm):01286                 ANDCC   #$EF
44E1 39               (       omni84.asm):01287                 RTS
                      (       omni84.asm):01288         
44E2                  (       omni84.asm):01289         WORDS
44E2 504F525431       (       omni84.asm):01290                 FCC /PORT1/
44E7 504F525432       (       omni84.asm):01291                 FCC /PORT2/
44EC 504F525433       (       omni84.asm):01292                 FCC /PORT3/
44F1 53565A5944       (       omni84.asm):01293                 FCC /SVZYD/
44F6 4E51534C57       (       omni84.asm):01294                 FCC /NQSLW/
44FB 4D5A4C434D       (       omni84.asm):01295                 FCC /MZLCM/
4500 434C4C5446       (       omni84.asm):01296                 FCC /CLLTF/
4505 424C4E464A       (       omni84.asm):01297                 FCC /BLNFJ/
450A 5454534C58       (       omni84.asm):01298                 FCC /TTSLX/
450F 4C4E44564E       (       omni84.asm):01299                 FCC /LNDVN/
4514 4B4359524B       (       omni84.asm):01300                 FCC /KCYRK/
4519 4458444A43       (       omni84.asm):01301                 FCC /DXDJC/
451E 4C594D4743       (       omni84.asm):01302                 FCC /LYMGC/
4523 FFFF             (       omni84.asm):01303                 FDB $FFFF
                      (       omni84.asm):01304         
                      (       omni84.asm):01305         *LOOK UP OBJECT
                      (       omni84.asm):01306         *       A=OBJECT CODE
                      (       omni84.asm):01307         *
4525 338CBA           (       omni84.asm):01308         LOOKUP  LEAU    WORDS,PCR
4528 6FE2             (       omni84.asm):01309                 CLR     ,-S
452A 1F32             (       omni84.asm):01310         LOOKU0  TFR     U,Y
452C 8E00D1           (       omni84.asm):01311                 LDX     #OBJECT
452F 8605             (       omni84.asm):01312                 LDA     #5
4531 3402             (       omni84.asm):01313                 PSHS    A
4533 6AE4             (       omni84.asm):01314         LOOKU1  DEC     ,S
4535 2D1A             (       omni84.asm):01315                 BLT     LOOKU2
4537 A680             (       omni84.asm):01316                 LDA     ,X+
4539 A1A0             (       omni84.asm):01317                 CMPA    ,Y+
453B 27F6             (       omni84.asm):01318                 BEQ     LOOKU1
453D 3502             (       omni84.asm):01319                 PULS    A
453F 3345             (       omni84.asm):01320                 LEAU    5,U
4541 6CE4             (       omni84.asm):01321                 INC     ,S
4543 ECC4             (       omni84.asm):01322                 LDD     ,U
4545 1083FFFF         (       omni84.asm):01323                 CMPD    #$FFFF
4549 26DF             (       omni84.asm):01324                 BNE     LOOKU0
454B 86FF             (       omni84.asm):01325                 LDA     #$FF
454D A7E4             (       omni84.asm):01326                 STA     ,S
454F 2002             (       omni84.asm):01327                 BRA     LOOKU3
4551 3502             (       omni84.asm):01328         LOOKU2  PULS    A
4553 3502             (       omni84.asm):01329         LOOKU3  PULS    A
4555 39               (       omni84.asm):01330                 RTS
                      (       omni84.asm):01331         
                      (       omni84.asm):01332         *SEARCH LIST
                      (       omni84.asm):01333         *       X=LIST
                      (       omni84.asm):01334         *       A=ITEM
                      (       omni84.asm):01335         *
4556 E61F             (       omni84.asm):01336         SEARCH  LDB     -1,X
4558 5A               (       omni84.asm):01337         SEARC0  DECB
4559 2D04             (       omni84.asm):01338                 BLT     SEARC1
455B A180             (       omni84.asm):01339                 CMPA    ,X+
455D 26F9             (       omni84.asm):01340                 BNE     SEARC0
455F 39               (       omni84.asm):01341         SEARC1  RTS
                      (       omni84.asm):01342         
                      (       omni84.asm):01343         *LOAD PROGRAM FROM SYSTEM
                      (       omni84.asm):01344         *       A=PROGRAM CODE
                      (       omni84.asm):01345         *
4560 F635A2           (       omni84.asm):01346         LOA     LDB     ULIST-1
4563 C10A             (       omni84.asm):01347                 CMPB    #10
4565 2D08             (       omni84.asm):01348                 BLT     LOA0
4567 338D006E         (       omni84.asm):01349                 LEAU    FULL,PCR
456B 17FA4C           (       omni84.asm):01350                 LBSR    MSG
456E 39               (       omni84.asm):01351                 RTS
456F 8E35A3           (       omni84.asm):01352         LOA0    LDX     #ULIST
4572 17FFE1           (       omni84.asm):01353                 LBSR    SEARCH
4575 2D08             (       omni84.asm):01354                 BLT     LOA1
4577 338D0076         (       omni84.asm):01355                 LEAU    LOADD,PCR
457B 17FA3C           (       omni84.asm):01356                 LBSR    MSG
457E 39               (       omni84.asm):01357                 RTS
457F 9ED7             (       omni84.asm):01358         LOA1    LDX     SLIST
4581 17FFD2           (       omni84.asm):01359                 LBSR    SEARCH
4584 2C08             (       omni84.asm):01360                 BGE     LOA2
4586 338D007F         (       omni84.asm):01361                 LEAU    NOPRG,PCR
458A 17FA2D           (       omni84.asm):01362                 LBSR    MSG
458D 39               (       omni84.asm):01363                 RTS
458E F635A2           (       omni84.asm):01364         LOA2    LDB     ULIST-1
4591 8E35A3           (       omni84.asm):01365                 LDX     #ULIST
4594 3085             (       omni84.asm):01366                 LEAX    B,X
4596 A784             (       omni84.asm):01367                 STA     ,X
4598 7C35A2           (       omni84.asm):01368                 INC     ULIST-1
459B 3402             (       omni84.asm):01369                 PSHS    A
459D 8606             (       omni84.asm):01370                 LDA     #6
459F 8E35A3           (       omni84.asm):01371                 LDX     #ULIST
45A2 17FECF           (       omni84.asm):01372                 LBSR    LIST
45A5 A6E0             (       omni84.asm):01373                 LDA     ,S+
45A7 9ED7             (       omni84.asm):01374                 LDX     SLIST
45A9 170074           (       omni84.asm):01375                 LBSR    DELL
45AC 9ED7             (       omni84.asm):01376                 LDX     SLIST
45AE 8607             (       omni84.asm):01377                 LDA     #7
45B0 17FEC1           (       omni84.asm):01378                 LBSR    LIST
45B3 8604             (       omni84.asm):01379                 LDA     #4
45B5 308D0004         (       omni84.asm):01380                 LEAX    LOAOK,PCR
45B9 17FA93           (       omni84.asm):01381                 LBSR    PRINT
45BC 39               (       omni84.asm):01382                 RTS
                      (       omni84.asm):01383         
45BD                  (       omni84.asm):01384         LOAOK
45BD 50524F4752414D20 (       omni84.asm):01385          FCC /PROGRAM LOADED /
     4C4F4144454420
45CC 46524F4D20535953 (       omni84.asm):01386          FCC /FROM SYSTEM/
     54454D
45D7 0D00             (       omni84.asm):01387          FDB $0D00
                      (       omni84.asm):01388         
45D9                  (       omni84.asm):01389         FULL
45D9 555345522050524F (       omni84.asm):01390          FCC /USER PROGRAM AREA /
     4752414D20415245
     4120
45EB 46554C4C         (       omni84.asm):01391          FCC /FULL/
45EF 0D00             (       omni84.asm):01392          FDB $0D00
45F1                  (       omni84.asm):01393         LOADD
45F1 50524F4752414D20 (       omni84.asm):01394          FCC /PROGRAM ALREADY /
     414C524541445920
4601 4C4F41444544     (       omni84.asm):01395          FCC /LOADED/
4607 0D00             (       omni84.asm):01396          FDB $0D00
4609                  (       omni84.asm):01397         NOPRG
4609 50524F4752414D20 (       omni84.asm):01398          FCC /PROGRAM NOT IN /
     4E4F5420494E20
4618 53595354454D     (       omni84.asm):01399          FCC /SYSTEM/
461E 0D00             (       omni84.asm):01400          FDB $0D00
                      (       omni84.asm):01401         
                      (       omni84.asm):01402         *DELETE ITEM FROM LIST
                      (       omni84.asm):01403         *       X=LIST
                      (       omni84.asm):01404         *       A=ITEM
                      (       omni84.asm):01405         *
4620 1F12             (       omni84.asm):01406         DELL    TFR     X,Y
4622 E61F             (       omni84.asm):01407                 LDB     -1,X
4624 5A               (       omni84.asm):01408         DELL0   DECB
4625 2D0F             (       omni84.asm):01409                 BLT XDELL
4627 A180             (       omni84.asm):01410                 CMPA    ,X+
4629 26F9             (       omni84.asm):01411                 BNE     DELL0
462B A684             (       omni84.asm):01412         DELL1   LDA     ,X
462D A71F             (       omni84.asm):01413                 STA     -1,X
462F 3001             (       omni84.asm):01414                 LEAX    1,X
4631 5A               (       omni84.asm):01415                 DECB
4632 2EF7             (       omni84.asm):01416                 BGT     DELL1
4634 6A3F             (       omni84.asm):01417                 DEC     -1,Y
4636 39               (       omni84.asm):01418         XDELL   RTS
                      (       omni84.asm):01419         
                      (       omni84.asm):01420         *SAVE PROGRAM TO SYSTEM
                      (       omni84.asm):01421         *       A=PROGRAM CODE
                      (       omni84.asm):01422         *
4637 8E35A3           (       omni84.asm):01423         SAV     LDX     #ULIST
463A 17FF19           (       omni84.asm):01424                 LBSR    SEARCH
463D 2C08             (       omni84.asm):01425                 BGE     SAV0
463F 338D0062         (       omni84.asm):01426                 LEAU    NOTIN,PCR
4643 17F974           (       omni84.asm):01427                 LBSR    MSG
4646 39               (       omni84.asm):01428                 RTS
4647 9ED7             (       omni84.asm):01429         SAV0    LDX     SLIST
4649 17FF0A           (       omni84.asm):01430                 LBSR    SEARCH
464C 2D08             (       omni84.asm):01431                 BLT     SAV1
464E 338D006D         (       omni84.asm):01432                 LEAU    INSYS,PCR
4652 17F965           (       omni84.asm):01433                 LBSR    MSG
4655 39               (       omni84.asm):01434                 RTS
4656 9ED7             (       omni84.asm):01435         SAV1    LDX     SLIST
4658 E61F             (       omni84.asm):01436                 LDB     -1,X
465A C10A             (       omni84.asm):01437                 CMPB    #10
465C 2D08             (       omni84.asm):01438                 BLT     SAV2
465E 338D0078         (       omni84.asm):01439                 LEAU    SFULL,PCR
4662 17F955           (       omni84.asm):01440                 LBSR    MSG
4665 39               (       omni84.asm):01441                 RTS
4666 5C               (       omni84.asm):01442         SAV2    INCB
4667 E71F             (       omni84.asm):01443                 STB     -1,X
4669 3085             (       omni84.asm):01444                 LEAX    B,X
466B A71F             (       omni84.asm):01445                 STA     -1,X
466D 8E35A3           (       omni84.asm):01446                 LDX     #ULIST
4670 17FFAD           (       omni84.asm):01447                 LBSR    DELL
4673 8606             (       omni84.asm):01448                 LDA     #6
4675 8E35A3           (       omni84.asm):01449                 LDX     #ULIST
4678 17FDF9           (       omni84.asm):01450                 LBSR    LIST
467B 8607             (       omni84.asm):01451                 LDA     #7
467D 9ED7             (       omni84.asm):01452                 LDX     SLIST
467F 17FDF2           (       omni84.asm):01453                 LBSR    LIST
4682 308D0006         (       omni84.asm):01454                 LEAX    SAVOK,PCR
4686 8604             (       omni84.asm):01455                 LDA     #4
4688 17F9C4           (       omni84.asm):01456                 LBSR    PRINT
468B 39               (       omni84.asm):01457                 RTS
                      (       omni84.asm):01458         
468C                  (       omni84.asm):01459         SAVOK
468C 50524F4752414D20 (       omni84.asm):01460          FCC /PROGRAM SAVED /
     534156454420
469A 544F205359535445 (       omni84.asm):01461          FCC /TO SYSTEM/
     4D
46A3 0D00             (       omni84.asm):01462          FDB $0D00
                      (       omni84.asm):01463         
46A5                  (       omni84.asm):01464         NOTIN
46A5 4E4F5420494E2055 (       omni84.asm):01465          FCC /NOT IN USER /
     53455220
46B1 50524F4752414D20 (       omni84.asm):01466          FCC /PROGRAM AREA/
     41524541
46BD 0D00             (       omni84.asm):01467          FDB $0D00
                      (       omni84.asm):01468         
46BF                  (       omni84.asm):01469         INSYS
46BF 50524F4752414D20 (       omni84.asm):01470          FCC /PROGRAM ALREADY /
     414C524541445920
46CF 494E205359535445 (       omni84.asm):01471          FCC /IN SYSTEM/
     4D
46D8 0D00             (       omni84.asm):01472          FDB $0D00
                      (       omni84.asm):01473         
46DA                  (       omni84.asm):01474         SFULL
46DA 53595354454D2050 (       omni84.asm):01475          FCC /SYSTEM PROGRAM /
     524F4752414D20
46E9 415245412046554C (       omni84.asm):01476          FCC /AREA FULL/
     4C
46F2 0D00             (       omni84.asm):01477          FDB $0D00
                      (       omni84.asm):01478         
                      (       omni84.asm):01479         *ENTER NEW NODE
                      (       omni84.asm):01480         *       A = PORT (0-2)
                      (       omni84.asm):01481         *
46F4 8102             (       omni84.asm):01482         ENT     CMPA    #2
46F6 2308             (       omni84.asm):01483                 BLS     ENT0
46F8 338D0033         (       omni84.asm):01484                 LEAU    BAD,PCR
46FC 17F8BB           (       omni84.asm):01485                 LBSR    MSG
46FF 39               (       omni84.asm):01486                 RTS
4700 338D0041         (       omni84.asm):01487         ENT0    LEAU    TLIST,PCR
4704 3402             (       omni84.asm):01488                 PSHS    A
4706 96BE             (       omni84.asm):01489                 LDA     NODE
4708 4A               (       omni84.asm):01490                 DECA
4709 C603             (       omni84.asm):01491                 LDB     #3
470B 3D               (       omni84.asm):01492                 MUL
470C 33CB             (       omni84.asm):01493                 LEAU    D,U
470E 3502             (       omni84.asm):01494                 PULS    A
4710 A6C6             (       omni84.asm):01495                 LDA     A,U
4712 8041             (       omni84.asm):01496                 SUBA    #'A
4714 4C               (       omni84.asm):01497                 INCA
4715 97BE             (       omni84.asm):01498                 STA     NODE
4717 4A               (       omni84.asm):01499                 DECA
4718 C60B             (       omni84.asm):01500                 LDB     #11
471A 3D               (       omni84.asm):01501                 MUL
471B 8E35AD           (       omni84.asm):01502                 LDX     #SLISTS
471E 308B             (       omni84.asm):01503                 LEAX    D,X
4720 3001             (       omni84.asm):01504                 LEAX    1,X
4722 9FD7             (       omni84.asm):01505                 STX     SLIST
4724 1700C3           (       omni84.asm):01506                 LBSR    PRNAME
4727 9ED7             (       omni84.asm):01507                 LDX     SLIST
4729 8607             (       omni84.asm):01508                 LDA     #7
472B 17FD46           (       omni84.asm):01509                 LBSR    LIST
472E 39               (       omni84.asm):01510                 RTS
                      (       omni84.asm):01511         
472F                  (       omni84.asm):01512         BAD
472F 42414420504F5254 (       omni84.asm):01513          FCC /BAD PORT /
     20
4738 44455349474E4154 (       omni84.asm):01514          FCC /DESIGNATION/
     494F4E
4743 0D00             (       omni84.asm):01515          FDB $0D00
                      (       omni84.asm):01516         
                      (       omni84.asm):01517         *TRANSITION LIST
                      (       omni84.asm):01518         *
4745                  (       omni84.asm):01519         TLIST
4745 42454841434A4244 (       omni84.asm):01520          FCC /BEHACJBDLCENADF/
     4C43454E414446
4754 45474F4648514147 (       omni84.asm):01521          FCC /EGOFHQAGIHJRBIK/
     49484A5242494B
4763 4A4C53434B4D4C4E (       omni84.asm):01522          FCC /JLSCKMLNTDMOFNP/
     54444D4F464E50
4772 4F51544750524951 (       omni84.asm):01523          FCC /OQTGPRIQSKRTMPS/
     534B52544D5053
                      (       omni84.asm):01524         
                      (       omni84.asm):01525         *INVENTORY INITIALIZATION
                      (       omni84.asm):01526         *
4781 308D0026         (       omni84.asm):01527         ININIT  LEAX    IDATA,PCR
4785 108E35AE         (       omni84.asm):01528                 LDY     #SLISTS+1
4789 8614             (       omni84.asm):01529                 LDA     #20
478B 3402             (       omni84.asm):01530                 PSHS    A
478D 6AE4             (       omni84.asm):01531         ININI0  DEC     ,S
478F 2D17             (       omni84.asm):01532                 BLT     ININI3
4791 6F3F             (       omni84.asm):01533                 CLR     -1,Y
4793 109FD7           (       omni84.asm):01534                 STY     SLIST
4796 5F               (       omni84.asm):01535                 CLRB
4797 A680             (       omni84.asm):01536         ININI1  LDA     ,X+
4799 8041             (       omni84.asm):01537                 SUBA    #'A
479B 2D07             (       omni84.asm):01538                 BLT     ININI2
479D A7A5             (       omni84.asm):01539                 STA     B,Y
479F 5C               (       omni84.asm):01540                 INCB
47A0 E73F             (       omni84.asm):01541                 STB     -1,Y
47A2 20F3             (       omni84.asm):01542                 BRA     ININI1
47A4 312B             (       omni84.asm):01543         ININI2  LEAY    11,Y
47A6 20E5             (       omni84.asm):01544                 BRA     ININI0
47A8 3502             (       omni84.asm):01545         ININI3  PULS    A
47AA 39               (       omni84.asm):01546                 RTS
                      (       omni84.asm):01547         
                      (       omni84.asm):01548         *INVENTORY DATA
                      (       omni84.asm):01549         *
47AB                  (       omni84.asm):01550         IDATA
47AB 45464748274D2744 (       omni84.asm):01551          FCC /EFGH'M'D'HIJKLM'D'/
     2748494A4B4C4D27
     4427
47BD 4445464748494A27 (       omni84.asm):01552          FCC /DEFGHIJ'M'I'H'F'/
     4D27492748274627
47CD 4427452746274727 (       omni84.asm):01553          FCC /D'E'F'G'H'/
     4827
47D7 4527462747274D27 (       omni84.asm):01554          FCC /E'F'G'M'DEFGHIJKLM'/
     4445464748494A4B
     4C4D27
                      (       omni84.asm):01555         
                      (       omni84.asm):01556         *PRINT SYSTEM NAME
                      (       omni84.asm):01557         *
47EA 308D0019         (       omni84.asm):01558         PRNAME  LEAX    CLR,PCR
47EE 8604             (       omni84.asm):01559                 LDA     #4
47F0 17F85C           (       omni84.asm):01560                 LBSR    PRINT
47F3 170013           (       omni84.asm):01561                 LBSR    GENNAME
47F6 8604             (       omni84.asm):01562                 LDA     #4
47F8 17F854           (       omni84.asm):01563                 LBSR    PRINT
47FB 308D0006         (       omni84.asm):01564                 LEAX    CRLF,PCR
47FF 8604             (       omni84.asm):01565                 LDA     #4
4801 17F84B           (       omni84.asm):01566                 LBSR    PRINT
4804 39               (       omni84.asm):01567                 RTS
                      (       omni84.asm):01568         
4805 0D00             (       omni84.asm):01569         CRLF    FDB     $0D00
4807 0C00             (       omni84.asm):01570         CLR     FDB     $0C00
                      (       omni84.asm):01571         
                      (       omni84.asm):01572         *GENERATE SYSTEM NAME
                      (       omni84.asm):01573         *
4809 308D000C         (       omni84.asm):01574         GENNAME LEAX    NAMES,PCR
480D 96BE             (       omni84.asm):01575                 LDA     NODE
480F 4A               (       omni84.asm):01576         GENAM0  DECA
4810 2706             (       omni84.asm):01577                 BEQ     GENAM2
4812 E680             (       omni84.asm):01578         GENAM1  LDB     ,X+
4814 26FC             (       omni84.asm):01579                 BNE     GENAM1
4816 20F7             (       omni84.asm):01580                 BRA     GENAM0
4818 39               (       omni84.asm):01581         GENAM2  RTS
                      (       omni84.asm):01582         
4819                  (       omni84.asm):01583         NAMES
4819 5345435552495459 (       omni84.asm):01584          FCC /SECURITY CONTROL/
     20434F4E54524F4C
4829 00               (       omni84.asm):01585          FCB 0
482A 534154454C4C4954 (       omni84.asm):01586          FCC /SATELLITE NAVIGATION/
     45204E4156494741
     54494F4E
483E 00               (       omni84.asm):01587          FCB 0
483F 4E4554574F524B20 (       omni84.asm):01588          FCC /NETWORK CONTROL/
     434F4E54524F4C
484E 00               (       omni84.asm):01589          FCB 0
484F 4C4F47494320434F (       omni84.asm):01590          FCC /LOGIC CONTROL/
     4E54524F4C
485C 00               (       omni84.asm):01591          FCB 0
485D 4D41494E54454E41 (       omni84.asm):01592          FCC /MAINTENANCE CONTROL/
     4E434520434F4E54
     524F4C
4870 00               (       omni84.asm):01593          FCB 0
4871 415558204D41494E (       omni84.asm):01594          FCC /AUX MAINTENANCE CONTROL/
     54454E414E434520
     434F4E54524F4C
4888 00               (       omni84.asm):01595          FCB 0
4889 41555820504F5745 (       omni84.asm):01596          FCC /AUX POWER CONTROL/
     5220434F4E54524F
     4C
489A 00               (       omni84.asm):01597          FCB 0
489B 4155582053454355 (       omni84.asm):01598          FCC /AUX SECURITY CONTROL/
     5249545920434F4E
     54524F4C
48AF 00               (       omni84.asm):01599          FCB 0
48B0 4155582053415445 (       omni84.asm):01600          FCC /AUX SATELLITE COMMUNICATIONS/
     4C4C49544520434F
     4D4D554E49434154
     494F4E53
48CC 00               (       omni84.asm):01601          FCB 0
48CD 4155582053415445 (       omni84.asm):01602          FCC /AUX SATELLITE NAVIGATION/
     4C4C495445204E41
     5649474154494F4E
48E5 00               (       omni84.asm):01603          FCB 0
48E6 41555820454E5649 (       omni84.asm):01604          FCC /AUX ENVIRONMENT CONTROL/
     524F4E4D454E5420
     434F4E54524F4C
48FD 00               (       omni84.asm):01605          FCB 0
48FE 415558204E455457 (       omni84.asm):01606          FCC /AUX NETWORK CONTROL/
     4F524B20434F4E54
     524F4C
4911 00               (       omni84.asm):01607          FCB 0
4912 4155582041434345 (       omni84.asm):01608          FCC /AUX ACCESS COMPUTER/
     535320434F4D5055
     544552
4925 00               (       omni84.asm):01609          FCB 0
4926 415558204C4F4749 (       omni84.asm):01610          FCC /AUX LOGIC CONTROL/
     4320434F4E54524F
     4C
4937 00               (       omni84.asm):01611          FCB 0
4938 415558204D454D4F (       omni84.asm):01612          FCC /AUX MEMORY CONTROL/
     525920434F4E5452
     4F4C
494A 00               (       omni84.asm):01613          FCB 0
494B 4D454D4F52592043 (       omni84.asm):01614          FCC /MEMORY CONTROL/
     4F4E54524F4C
4959 00               (       omni84.asm):01615          FCB 0
495A 504F57455220434F (       omni84.asm):01616          FCC /POWER CONTROL/
     4E54524F4C
4967 00               (       omni84.asm):01617          FCB 0
4968 534154454C4C4954 (       omni84.asm):01618          FCC /SATELLITE COMMUNICATIONS/
     4520434F4D4D554E
     49434154494F4E53
4980 00               (       omni84.asm):01619          FCB 0
4981 454E5649524F4E4D (       omni84.asm):01620          FCC /ENVIRONMENT CONTROL/
     454E5420434F4E54
     524F4C
4994 00               (       omni84.asm):01621          FCB 0
4995 4F4D4E4953544152 (       omni84.asm):01622          FCC /OMNISTAR ACCESS COMPUTER/
     2041434345535320
     434F4D5055544552
49AD 00               (       omni84.asm):01623          FCB 0
                      (       omni84.asm):01624         
                      (       omni84.asm):01625         *DISPLAY SYSTEM MAP
                      (       omni84.asm):01626         *
49AE 1A10             (       omni84.asm):01627         MAP     ORCC    #$10
49B0 B7FFCD           (       omni84.asm):01628                 STA     $FFCD
49B3 B7FFCB           (       omni84.asm):01629                 STA     $FFCB
49B6 1CEF             (       omni84.asm):01630                 ANDCC   #$EF
49B8 39               (       omni84.asm):01631                 RTS
                      (       omni84.asm):01632         
                      (       omni84.asm):01633         *DRAW LINES
                      (       omni84.asm):01634         *       Y=LINE DATA
                      (       omni84.asm):01635         *
49B9 A6A4             (       omni84.asm):01636         DRAW    LDA     ,Y
49BB 4D               (       omni84.asm):01637                 TSTA
49BC 260D             (       omni84.asm):01638                 BNE     DRAW1
49BE 3121             (       omni84.asm):01639                 LEAY    1,Y
49C0 ECA4             (       omni84.asm):01640                 LDD     ,Y
49C2 4D               (       omni84.asm):01641                 TSTA
49C3 2716             (       omni84.asm):01642                 BEQ     XDRAW
49C5 8D15             (       omni84.asm):01643                 BSR     GETXY
49C7 DDBF             (       omni84.asm):01644                 STD     X1
49C9 20EE             (       omni84.asm):01645                 BRA     DRAW
49CB 8D0F             (       omni84.asm):01646         DRAW1   BSR     GETXY
49CD DDC1             (       omni84.asm):01647                 STD     X2
49CF 3420             (       omni84.asm):01648                 PSHS    Y
49D1 17006D           (       omni84.asm):01649                 LBSR    LINE
49D4 1700FB           (       omni84.asm):01650                 LBSR    SQUARE
49D7 3520             (       omni84.asm):01651                 PULS    Y
49D9 20DE             (       omni84.asm):01652                 BRA     DRAW
49DB 39               (       omni84.asm):01653         XDRAW   RTS
                      (       omni84.asm):01654         
49DC ECA1             (       omni84.asm):01655         GETXY   LDD     ,Y++
49DE 39               (       omni84.asm):01656                 RTS
                      (       omni84.asm):01657         
49DF                  (       omni84.asm):01658         LINES
                      (       omni84.asm):01659         *INNER RING
49DF 00               (       omni84.asm):01660                 FCB 0
49E0 6E70             (       omni84.asm):01661                 FDB $6E70
49E2 634F             (       omni84.asm):01662                 FDB $634F
49E4 7F3A             (       omni84.asm):01663                 FDB $7F3A
49E6 9C4E             (       omni84.asm):01664                 FDB $9C4E
49E8 9170             (       omni84.asm):01665                 FDB $9170
49EA 6E70             (       omni84.asm):01666                 FDB $6E70
                      (       omni84.asm):01667         *MIDDLE RING
49EC 00               (       omni84.asm):01668                 FCB 0
49ED BC6C             (       omni84.asm):01669                 FDB $BC6C
49EF 7F97             (       omni84.asm):01670                 FDB $7F97
49F1 426B             (       omni84.asm):01671                 FDB $426B
49F3 5A23             (       omni84.asm):01672                 FDB $5A23
49F5 A623             (       omni84.asm):01673                 FDB $A623
49F7 BC6C             (       omni84.asm):01674                 FDB $BC6C
                      (       omni84.asm):01675         *OUTER RING
49F9 00               (       omni84.asm):01676                 FCB 0
49FA DD76             (       omni84.asm):01677                 FDB $DD76
49FC 7FB9             (       omni84.asm):01678                 FDB $7FB9
49FE 2276             (       omni84.asm):01679                 FDB $2276
4A00 4608             (       omni84.asm):01680                 FDB $4608
4A02 B908             (       omni84.asm):01681                 FDB $B908
4A04 DD76             (       omni84.asm):01682                 FDB $DD76
                      (       omni84.asm):01683         *MIDDLE TO OUTER
4A06 00               (       omni84.asm):01684                 FCB 0
4A07 BC6C             (       omni84.asm):01685                 FDB $BC6C
4A09 DD76             (       omni84.asm):01686                 FDB $DD76
4A0B 00               (       omni84.asm):01687                 FCB 0
4A0C 7F97             (       omni84.asm):01688                 FDB $7F97
4A0E 7FB9             (       omni84.asm):01689                 FDB $7FB9
4A10 00               (       omni84.asm):01690                 FCB 0
4A11 426B             (       omni84.asm):01691                 FDB $426B
4A13 2276             (       omni84.asm):01692                 FDB $2276
4A15 00               (       omni84.asm):01693                 FCB 0
4A16 5A23             (       omni84.asm):01694                 FDB $5A23
4A18 4608             (       omni84.asm):01695                 FDB $4608
4A1A 00               (       omni84.asm):01696                 FCB 0
4A1B A623             (       omni84.asm):01697                 FDB $A623
4A1D B908             (       omni84.asm):01698                 FDB $B908
                      (       omni84.asm):01699         *INNER TO MIDDLE
4A1F 00               (       omni84.asm):01700                 FCB 0
4A20 6E70             (       omni84.asm):01701                 FDB $6E70
4A22 6181             (       omni84.asm):01702                 FDB $6181
4A24 00               (       omni84.asm):01703                 FCB 0
4A25 634F             (       omni84.asm):01704                 FDB $634F
4A27 4E47             (       omni84.asm):01705                 FDB $4E47
4A29 00               (       omni84.asm):01706                 FCB 0
4A2A 7F3A             (       omni84.asm):01707                 FDB $7F3A
4A2C 7F23             (       omni84.asm):01708                 FDB $7F23
4A2E 00               (       omni84.asm):01709                 FCB 0
4A2F 9C4E             (       omni84.asm):01710                 FDB $9C4E
4A31 B148             (       omni84.asm):01711                 FDB $B148
4A33 00               (       omni84.asm):01712                 FCB 0
4A34 9170             (       omni84.asm):01713                 FDB $9170
4A36 9D82             (       omni84.asm):01714                 FDB $9D82
                      (       omni84.asm):01715         *MASTER
4A38 00               (       omni84.asm):01716                 FCB 0
4A39 7F3A             (       omni84.asm):01717                 FDB $7F3A
4A3B 7F58             (       omni84.asm):01718                 FDB $7F58
                      (       omni84.asm):01719         
4A3D 0000             (       omni84.asm):01720                 FDB 0
4A3F 0000             (       omni84.asm):01721                 FDB 0
                      (       omni84.asm):01722         
                      (       omni84.asm):01723         *DRAW LINE
                      (       omni84.asm):01724         *       CO-ORDS IN
                      (       omni84.asm):01725         *       X1,Y1,X2,Y2
                      (       omni84.asm):01726         *
4A41 3275             (       omni84.asm):01727         LINE    LEAS    -11,S
4A43 6F61             (       omni84.asm):01728                 CLR     1,S
4A45 6F64             (       omni84.asm):01729                 CLR     4,S
4A47 8601             (       omni84.asm):01730                 LDA     #1
4A49 A762             (       omni84.asm):01731                 STA     2,S
4A4B A763             (       omni84.asm):01732                 STA     3,S
4A4D 4F               (       omni84.asm):01733                 CLRA
4A4E D6C0             (       omni84.asm):01734                 LDB     Y1
4A50 ED67             (       omni84.asm):01735                 STD     7,S
4A52 D6C2             (       omni84.asm):01736                 LDB     Y2
4A54 A367             (       omni84.asm):01737                 SUBD    7,S
4A56 ED67             (       omni84.asm):01738                 STD     7,S
4A58 4F               (       omni84.asm):01739                 CLRA
4A59 D6BF             (       omni84.asm):01740                 LDB     X1
4A5B ED65             (       omni84.asm):01741                 STD     5,S
4A5D D6C1             (       omni84.asm):01742                 LDB     X2
4A5F A365             (       omni84.asm):01743                 SUBD    5,S
4A61 ED65             (       omni84.asm):01744                 STD     5,S
4A63 2C0A             (       omni84.asm):01745                 BGE     L6090
4A65 86FF             (       omni84.asm):01746                 LDA     #255
4A67 A763             (       omni84.asm):01747                 STA     3,S
4A69 4F               (       omni84.asm):01748                 CLRA
4A6A 5F               (       omni84.asm):01749                 CLRB
4A6B A365             (       omni84.asm):01750                 SUBD    5,S
4A6D ED65             (       omni84.asm):01751                 STD     5,S
4A6F EC67             (       omni84.asm):01752         L6090   LDD     7,S
4A71 2C0A             (       omni84.asm):01753                 BGE     L6120
4A73 4F               (       omni84.asm):01754                 CLRA
4A74 5F               (       omni84.asm):01755                 CLRB
4A75 A367             (       omni84.asm):01756                 SUBD    7,S
4A77 ED67             (       omni84.asm):01757                 STD     7,S
4A79 86FF             (       omni84.asm):01758                 LDA     #255
4A7B A762             (       omni84.asm):01759                 STA     2,S
4A7D EC65             (       omni84.asm):01760         L6120   LDD     5,S
4A7F 10A367           (       omni84.asm):01761                 CMPD    7,S
4A82 2C16             (       omni84.asm):01762                 BGE     L6200
4A84 AE65             (       omni84.asm):01763                 LDX     5,S
4A86 10AE67           (       omni84.asm):01764                 LDY     7,S
4A89 AF67             (       omni84.asm):01765                 STX     7,S
4A8B 10AF65           (       omni84.asm):01766                 STY     5,S
4A8E A663             (       omni84.asm):01767                 LDA     3,S
4A90 A761             (       omni84.asm):01768                 STA     1,S
4A92 6F63             (       omni84.asm):01769                 CLR     3,S
4A94 A662             (       omni84.asm):01770                 LDA     2,S
4A96 A764             (       omni84.asm):01771                 STA     4,S
4A98 6F62             (       omni84.asm):01772                 CLR     2,S
4A9A EC65             (       omni84.asm):01773         L6200   LDD     5,S
4A9C E7E4             (       omni84.asm):01774                 STB     ,S
4A9E 44               (       omni84.asm):01775                 LSRA
4A9F 56               (       omni84.asm):01776                 RORB
4AA0 ED69             (       omni84.asm):01777                 STD     9,S
4AA2 96C0             (       omni84.asm):01778         LLOOP   LDA     Y1
4AA4 D6BF             (       omni84.asm):01779                 LDB     X1
4AA6 17F726           (       omni84.asm):01780                 LBSR    PSET
4AA9 6AE4             (       omni84.asm):01781                 DEC     ,S
4AAB 2D22             (       omni84.asm):01782                 BLT     LDONE
4AAD EC63             (       omni84.asm):01783                 LDD     3,S
4AAF 9BBF             (       omni84.asm):01784                 ADDA    X1
4AB1 DBC0             (       omni84.asm):01785                 ADDB    Y1
4AB3 97BF             (       omni84.asm):01786                 STA     X1
4AB5 D7C0             (       omni84.asm):01787                 STB     Y1
4AB7 EC69             (       omni84.asm):01788                 LDD     9,S
4AB9 E367             (       omni84.asm):01789                 ADDD    7,S
4ABB ED69             (       omni84.asm):01790                 STD     9,S
4ABD A365             (       omni84.asm):01791                 SUBD    5,S
4ABF 2FE1             (       omni84.asm):01792                 BLE     LLOOP
4AC1 ED69             (       omni84.asm):01793                 STD     9,S
4AC3 EC61             (       omni84.asm):01794                 LDD     1,S
4AC5 9BBF             (       omni84.asm):01795                 ADDA    X1
4AC7 DBC0             (       omni84.asm):01796                 ADDB    Y1
4AC9 97BF             (       omni84.asm):01797                 STA     X1
4ACB D7C0             (       omni84.asm):01798                 STB     Y1
4ACD 20D3             (       omni84.asm):01799                 BRA     LLOOP
4ACF 326B             (       omni84.asm):01800         LDONE   LEAS    11,S
4AD1 39               (       omni84.asm):01801                 RTS
                      (       omni84.asm):01802         
                      (       omni84.asm):01803         *DRAW NODE ON MAP
                      (       omni84.asm):01804         *
4AD2 DCBF             (       omni84.asm):01805         SQUARE  LDD     X1
4AD4 C002             (       omni84.asm):01806                 SUBB    #2
4AD6 D7C0             (       omni84.asm):01807                 STB     Y1
4AD8 8B02             (       omni84.asm):01808                 ADDA    #2
4ADA DDC1             (       omni84.asm):01809                 STD     X2
4ADC 17FF62           (       omni84.asm):01810                 LBSR    LINE
4ADF DCBF             (       omni84.asm):01811                 LDD     X1
4AE1 CB04             (       omni84.asm):01812                 ADDB    #4
4AE3 DDC1             (       omni84.asm):01813                 STD     X2
4AE5 17FF59           (       omni84.asm):01814                 LBSR    LINE
4AE8 DCBF             (       omni84.asm):01815                 LDD     X1
4AEA 8004             (       omni84.asm):01816                 SUBA    #4
4AEC DDC1             (       omni84.asm):01817                 STD     X2
4AEE 17FF50           (       omni84.asm):01818                 LBSR    LINE
4AF1 DCBF             (       omni84.asm):01819                 LDD     X1
4AF3 C004             (       omni84.asm):01820                 SUBB    #4
4AF5 DDC1             (       omni84.asm):01821                 STD     X2
4AF7 17FF47           (       omni84.asm):01822                 LBSR    LINE
4AFA DCBF             (       omni84.asm):01823                 LDD     X1
4AFC 8B02             (       omni84.asm):01824                 ADDA    #2
4AFE DDC1             (       omni84.asm):01825                 STD     X2
4B00 17FF3E           (       omni84.asm):01826                 LBSR    LINE
4B03 0CC0             (       omni84.asm):01827                 INC     Y1
4B05 0CC0             (       omni84.asm):01828                 INC     Y1
4B07 39               (       omni84.asm):01829                 RTS
                      (       omni84.asm):01830         
                      (       omni84.asm):01831         *BUILD SYSTEM MAP
                      (       omni84.asm):01832         *
4B08 CC1C00           (       omni84.asm):01833         BLDMAP  LDD     #$1C00
4B0B DDC3             (       omni84.asm):01834                 STD     SCRN
4B0D 17F185           (       omni84.asm):01835                 LBSR    PCLS
4B10 318DFECB         (       omni84.asm):01836                 LEAY    LINES,PCR
4B14 17FEA2           (       omni84.asm):01837                 LBSR    DRAW
4B17 CC0400           (       omni84.asm):01838                 LDD     #$400
4B1A DDC3             (       omni84.asm):01839                 STD     SCRN
4B1C 39               (       omni84.asm):01840                 RTS
                      (       omni84.asm):01841         
4B1D                  (       omni84.asm):01842         ZPROG
                      (       omni84.asm):01843                 END     START
